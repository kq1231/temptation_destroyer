<!DOCTYPE html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="true" data-theme="dark" data-rh="lang,dir,data-has-hydrated,class"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title>15 Common Mistakes in Flutter and Dart Development (and How to Avoid Them) | DCM - Code Quality Tool for Flutter Developers</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="dcm dart, dart, flutter linter, flutter analyzer, flutter static analysis, dart static analysis, static analysis, dart linter, dart code metrics, dart_code_metrics, code metrics, flutter unused code, flutter unused files, dart code quality"><link data-rh="true" rel="icon" href="https://dcm.dev/img/favicons/favicon.ico"><script type="text/javascript" async="" src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/js_002"></script><link rel="alternate" type="application/rss+xml" href="https://dcm.dev/blog/rss.xml" title="DCM - Code Quality Tool for Flutter Developers RSS Feed">
<link rel="alternate" type="application/atom+xml" href="https://dcm.dev/blog/atom.xml" title="DCM - Code Quality Tool for Flutter Developers Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com/">
<link rel="preconnect" href="https://www.googletagmanager.com/">
<script async="" src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/js"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-7PVW8K8EJ7",{}),gtag("config","AW-16534754721",{})</script>



<link rel="search" type="application/opensearchdescription+xml" title="DCM - Code Quality Tool for Flutter Developers" href="https://dcm.dev/opensearch.xml">

<link rel="preload" href="https://dcm.dev/fonts/Inter.var.latin.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="apple-touch-icon" sizes="180x180" href="https://dcm.dev/img/favicons/apple-touch-icon.png">
<link rel="icon" sizes="32x32" href="https://dcm.dev/img/favicons/favicon-32x32.png">
<link rel="icon" sizes="16x16" href="https://dcm.dev/img/favicons/favicon-16x16.png">
<link rel="manifest" href="https://dcm.dev/img/favicons/site.webmanifest">
<link rel="shortcut icon" href="https://dcm.dev/img/favicons/favicon.ico">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-config" content="/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">
<script src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/detect-safari.js"></script>
<script src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/store-utm.js"></script><link rel="stylesheet" href="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/styles.9c77923a.css">
<script src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/runtime~main.30905612.js" defer="defer"></script>
<script src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/main.fd1d4220.js" defer="defer"></script>
<style type="text/css">.medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}</style><script type="text/javascript" async="" src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/f_002.txt"></script><meta name="viewport" content="width=device-width, initial-scale=1.0" data-rh="true"><link rel="preconnect" href="https://srxhqmvjzp-dsn.algolia.net/" crossorigin="anonymous" data-rh="true"><link rel="prefetch" href="https://dcm.dev/assets/js/1df93b7f.cdb8d212.js"><link rel="prefetch" href="https://dcm.dev/assets/js/a7456010.8796bffb.js"><link rel="prefetch" href="https://dcm.dev/assets/js/d7fbbe43.1d1e8165.js"><link rel="prefetch" href="https://dcm.dev/assets/js/a7456010.8796bffb.js"><link rel="prefetch" href="https://dcm.dev/assets/js/66ffdc1a.9b242084.js"><link rel="prefetch" href="https://dcm.dev/assets/js/a7456010.8796bffb.js"><link rel="prefetch" href="https://dcm.dev/assets/js/4a25d6cc.dddad61b.js"><link rel="prefetch" href="https://dcm.dev/assets/js/a7456010.8796bffb.js"><link rel="prefetch" href="https://dcm.dev/assets/js/5e95c892.70726885.js"><link rel="prefetch" href="https://dcm.dev/assets/js/aba21aa0.a83ea701.js"><link rel="prefetch" href="https://dcm.dev/assets/js/a7bd4aaa.d7eea731.js"><link rel="prefetch" href="https://dcm.dev/assets/js/11b43341.350d405d.js"><link rel="prefetch" href="https://dcm.dev/assets/js/a94703ab.d5363811.js"><link rel="prefetch" href="https://dcm.dev/assets/js/17896441.d6a63296.js"><link rel="prefetch" href="https://dcm.dev/assets/js/4edc808e.a7d273c3.js"><link rel="prefetch" href="https://dcm.dev/assets/js/5e95c892.70726885.js"><link rel="prefetch" href="https://dcm.dev/assets/js/aba21aa0.a83ea701.js"><link rel="prefetch" href="https://dcm.dev/assets/js/a7bd4aaa.d7eea731.js"><link rel="prefetch" href="https://dcm.dev/assets/js/11b43341.350d405d.js"><link rel="prefetch" href="https://dcm.dev/assets/js/a94703ab.d5363811.js"><link rel="prefetch" href="https://dcm.dev/assets/js/17896441.d6a63296.js"><link rel="prefetch" href="https://dcm.dev/assets/js/4edc808e.a7d273c3.js"><link rel="prefetch" href="https://dcm.dev/assets/js/5e95c892.70726885.js"><link rel="prefetch" href="https://dcm.dev/assets/js/aba21aa0.a83ea701.js"><link rel="prefetch" href="https://dcm.dev/assets/js/a7bd4aaa.d7eea731.js"><link rel="prefetch" href="https://dcm.dev/assets/js/11b43341.350d405d.js"><link rel="prefetch" href="https://dcm.dev/assets/js/a94703ab.d5363811.js"><link rel="prefetch" href="https://dcm.dev/assets/js/17896441.d6a63296.js"><link rel="prefetch" href="https://dcm.dev/assets/js/4edc808e.a7d273c3.js"><link rel="prefetch" href="https://dcm.dev/assets/js/5e95c892.70726885.js"><link rel="prefetch" href="https://dcm.dev/assets/js/aba21aa0.a83ea701.js"><link rel="prefetch" href="https://dcm.dev/assets/js/a7bd4aaa.d7eea731.js"><link rel="prefetch" href="https://dcm.dev/assets/js/11b43341.350d405d.js"><link rel="prefetch" href="https://dcm.dev/assets/js/a94703ab.d5363811.js"><link rel="prefetch" href="https://dcm.dev/assets/js/17896441.d6a63296.js"><link rel="prefetch" href="https://dcm.dev/assets/js/4edc808e.a7d273c3.js"><link rel="prefetch" href="https://dcm.dev/assets/js/352e3c7d.a2796e69.js"><link rel="prefetch" href="https://dcm.dev/assets/js/a7456010.8796bffb.js"><link rel="prefetch" href="https://dcm.dev/assets/js/a6aa9e1f.1b9256d7.js"><link rel="prefetch" href="https://dcm.dev/assets/js/36994c47.d2222100.js"><link rel="prefetch" href="https://dcm.dev/assets/js/814f3328.57d032d6.js"><link rel="prefetch" href="https://dcm.dev/assets/js/4e25eb5f.7c090a62.js"><link rel="prefetch" href="https://dcm.dev/assets/js/74acb128.c5039d37.js"><link rel="prefetch" href="https://dcm.dev/assets/js/c08b3e51.f2f6fd5b.js"><link rel="prefetch" href="https://dcm.dev/assets/js/ae89fbf9.23ea293f.js"><link rel="prefetch" href="https://dcm.dev/assets/js/fb49ceb6.e6fd5a78.js"><link rel="prefetch" href="https://dcm.dev/assets/js/297924be.437880bf.js"><link rel="prefetch" href="https://dcm.dev/assets/js/1aa6f0af.57cd4332.js"><link rel="prefetch" href="https://dcm.dev/assets/js/a4c317e5.166faa30.js"><link rel="prefetch" href="https://dcm.dev/assets/js/7ce8b3d5.3aa7e83d.js"><link rel="prefetch" href="https://dcm.dev/assets/js/0fba0b7c.f073c37c.js"><link rel="prefetch" href="https://dcm.dev/assets/js/9ff7ea43.c15630ce.js"><link rel="prefetch" href="https://dcm.dev/assets/js/c52d9e35.76dbbd4d.js"><link rel="prefetch" href="https://dcm.dev/assets/js/5d53b6ba.dac5fc77.js"><link rel="prefetch" href="https://dcm.dev/assets/js/836a58ad.4ffd150d.js"><link rel="prefetch" href="https://dcm.dev/assets/js/b124ca79.e4eca21e.js"><link rel="prefetch" href="https://dcm.dev/assets/js/08af526d.51267bfe.js"><link rel="prefetch" href="https://dcm.dev/assets/js/64d02bb9.9d7a68ba.js"><link rel="prefetch" href="https://dcm.dev/assets/js/a7456010.8796bffb.js"><link rel="prefetch" href="https://dcm.dev/assets/js/6875c492.355a25a3.js"><link rel="prefetch" href="https://dcm.dev/assets/js/36994c47.d2222100.js"><link rel="prefetch" href="https://dcm.dev/assets/js/814f3328.57d032d6.js"><link rel="prefetch" href="https://dcm.dev/assets/js/4e25eb5f.7c090a62.js"><link rel="prefetch" href="https://dcm.dev/assets/js/ae89fbf9.23ea293f.js"><link rel="prefetch" href="https://dcm.dev/assets/js/fb49ceb6.e6fd5a78.js"><link rel="prefetch" href="https://dcm.dev/assets/js/a4c317e5.166faa30.js"><link rel="prefetch" href="https://dcm.dev/assets/js/0fba0b7c.f073c37c.js"><link rel="prefetch" href="https://dcm.dev/assets/js/9ff7ea43.c15630ce.js"><link rel="prefetch" href="https://dcm.dev/assets/js/5d53b6ba.dac5fc77.js"><link rel="prefetch" href="https://dcm.dev/assets/js/836a58ad.4ffd150d.js"><link rel="prefetch" href="https://dcm.dev/assets/js/1086ad0d.25a80e28.js"><link rel="prefetch" href="https://dcm.dev/assets/js/ca4e4cf0.788e5ba3.js"><link rel="prefetch" href="https://dcm.dev/assets/js/49a5deee.4c2f223d.js"><link rel="prefetch" href="https://dcm.dev/assets/js/bc7fe655.5211420f.js"><link rel="prefetch" href="https://dcm.dev/assets/js/d628dd1b.1a4fc364.js"><link rel="prefetch" href="https://dcm.dev/assets/js/b9dc0167.96c0c3f6.js"><link rel="prefetch" href="https://dcm.dev/assets/js/81dd8ae5.cc9c9ec1.js"><link rel="prefetch" href="https://dcm.dev/assets/js/da0c79e8.b198526d.js"><link rel="prefetch" href="https://dcm.dev/assets/js/ccc49370.d2e4f884.js"><link rel="prefetch" href="https://dcm.dev/assets/js/acecf23e.f06c9599.js"><link rel="prefetch" href="https://dcm.dev/assets/js/36994c47.d2222100.js"><link rel="prefetch" href="https://dcm.dev/assets/js/814f3328.57d032d6.js"><link rel="prefetch" href="https://dcm.dev/assets/js/c4778dee.9dcf4f48.js"><link rel="prefetch" href="https://dcm.dev/assets/js/6875c492.355a25a3.js"><link rel="prefetch" href="https://dcm.dev/assets/js/36994c47.d2222100.js"><link rel="prefetch" href="https://dcm.dev/assets/js/814f3328.57d032d6.js"><link rel="prefetch" href="https://dcm.dev/assets/js/74acb128.c5039d37.js"><link rel="prefetch" href="https://dcm.dev/assets/js/c08b3e51.f2f6fd5b.js"><link rel="prefetch" href="https://dcm.dev/assets/js/297924be.437880bf.js"><link rel="prefetch" href="https://dcm.dev/assets/js/1aa6f0af.57cd4332.js"><link rel="prefetch" href="https://dcm.dev/assets/js/7ce8b3d5.3aa7e83d.js"><link rel="prefetch" href="https://dcm.dev/assets/js/c52d9e35.76dbbd4d.js"><link rel="prefetch" href="https://dcm.dev/assets/js/b124ca79.e4eca21e.js"><link rel="prefetch" href="https://dcm.dev/assets/js/fc7b39e3.e0b74edb.js"><link rel="prefetch" href="https://dcm.dev/assets/js/2ff9bc61.3dc433ce.js"><link rel="prefetch" href="https://dcm.dev/assets/js/9e9d8604.93948190.js"><link rel="canonical" href="https://dcm.dev/blog/2025/03/24/fifteen-common-mistakes-flutter-dart-development/" data-rh="true"><link rel="alternate" href="https://dcm.dev/blog/2025/03/24/fifteen-common-mistakes-flutter-dart-development/" hreflang="en" data-rh="true"><link rel="alternate" href="https://dcm.dev/blog/2025/03/24/fifteen-common-mistakes-flutter-dart-development/" hreflang="x-default" data-rh="true"><meta property="og:url" content="https://dcm.dev/blog/2025/03/24/fifteen-common-mistakes-flutter-dart-development/" data-rh="true"><meta name="docusaurus_tag" content="default" data-rh="true"><meta name="docsearch:docusaurus_tag" content="default" data-rh="true"><meta property="og:title" content="15 Common Mistakes in Flutter and Dart Development (and How to Avoid Them) | DCM - Code Quality Tool for Flutter Developers" data-rh="true"><meta name="description" content="In this article, I’m sharing 15 common mistakes Flutter developers often make—along with why they happen, what to watch out for, and how to fix them using proven patterns and DCM rules and features." data-rh="true"><meta property="og:description" content="In this article, I’m sharing 15 common mistakes Flutter developers often make—along with why they happen, what to watch out for, and how to fix them using proven patterns and DCM rules and features." data-rh="true"><meta property="og:image" content="https://dcm.dev/blog/covers/2025-03-24-cover.jpg" data-rh="true"><meta name="twitter:image" content="https://dcm.dev/blog/covers/2025-03-24-cover.jpg" data-rh="true"><meta property="og:type" content="article" data-rh="true"><meta property="article:published_time" content="2025-03-24T00:00:00.000Z" data-rh="true"><meta property="article:author" content="https://dcm.dev" data-rh="true"><meta property="article:tag" content="blog" data-rh="true"><script type="application/ld+json" data-rh="true">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://dcm.dev/blog/2025/03/24/fifteen-common-mistakes-flutter-dart-development","mainEntityOfPage":"https://dcm.dev/blog/2025/03/24/fifteen-common-mistakes-flutter-dart-development","url":"https://dcm.dev/blog/2025/03/24/fifteen-common-mistakes-flutter-dart-development","headline":"15 Common Mistakes in Flutter and Dart Development (and How to Avoid Them)","name":"15 Common Mistakes in Flutter and Dart Development (and How to Avoid Them)","description":"In this article, I’m sharing 15 common mistakes Flutter developers often make—along with why they happen, what to watch out for, and how to fix them using proven patterns and DCM rules and features.","datePublished":"2025-03-24T00:00:00.000Z","author":{"@type":"Person","name":"Majid Hajian","description":"Developer Advocate","url":"https://dcm.dev","image":"/blog/authors/majid.webp"},"image":{"@type":"ImageObject","@id":"https://dcm.dev/blog/covers/2025-03-24-cover.jpg","url":"https://dcm.dev/blog/covers/2025-03-24-cover.jpg","contentUrl":"https://dcm.dev/blog/covers/2025-03-24-cover.jpg","caption":"title image for the blog post: 15 Common Mistakes in Flutter and Dart Development (and How to Avoid Them)"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://dcm.dev/blog","name":"DCM Blog"}}</script><link rel="prefetch" href="https://dcm.dev/assets/js/ccc49370.d2e4f884.js"><link rel="prefetch" href="https://dcm.dev/assets/js/acecf23e.f06c9599.js"><link rel="prefetch" href="https://dcm.dev/assets/js/36994c47.d2222100.js"><link rel="prefetch" href="https://dcm.dev/assets/js/814f3328.57d032d6.js"><link rel="prefetch" href="https://dcm.dev/assets/js/183385be.cbff0839.js"><link rel="prefetch" href="https://dcm.dev/assets/js/ccc49370.d2e4f884.js"><link rel="prefetch" href="https://dcm.dev/assets/js/acecf23e.f06c9599.js"><link rel="prefetch" href="https://dcm.dev/assets/js/36994c47.d2222100.js"><link rel="prefetch" href="https://dcm.dev/assets/js/814f3328.57d032d6.js"><link rel="prefetch" href="https://dcm.dev/assets/js/901c78f3.1cc6b31d.js"><link rel="prefetch" href="https://dcm.dev/assets/js/ccc49370.d2e4f884.js"><link rel="prefetch" href="https://dcm.dev/assets/js/acecf23e.f06c9599.js"><link rel="prefetch" href="https://dcm.dev/assets/js/36994c47.d2222100.js"><link rel="prefetch" href="https://dcm.dev/assets/js/814f3328.57d032d6.js"><link rel="prefetch" href="https://dcm.dev/assets/js/076366da.67b04a5a.js"><link rel="prefetch" href="https://dcm.dev/assets/js/ccc49370.d2e4f884.js"><link rel="prefetch" href="https://dcm.dev/assets/js/acecf23e.f06c9599.js"><link rel="prefetch" href="https://dcm.dev/assets/js/36994c47.d2222100.js"><link rel="prefetch" href="https://dcm.dev/assets/js/814f3328.57d032d6.js"><link rel="prefetch" href="https://dcm.dev/assets/js/7889f8d6.b2f88563.js"><link rel="prefetch" href="https://dcm.dev/assets/js/ccc49370.d2e4f884.js"><link rel="prefetch" href="https://dcm.dev/assets/js/acecf23e.f06c9599.js"><link rel="prefetch" href="https://dcm.dev/assets/js/36994c47.d2222100.js"><link rel="prefetch" href="https://dcm.dev/assets/js/814f3328.57d032d6.js"><link rel="prefetch" href="https://dcm.dev/assets/js/30417ab8.560a2ebf.js"><link rel="prefetch" href="https://dcm.dev/assets/js/ccc49370.d2e4f884.js"><link rel="prefetch" href="https://dcm.dev/assets/js/acecf23e.f06c9599.js"><link rel="prefetch" href="https://dcm.dev/assets/js/36994c47.d2222100.js"><link rel="prefetch" href="https://dcm.dev/assets/js/814f3328.57d032d6.js"><link rel="prefetch" href="https://dcm.dev/assets/js/0e01e119.e4850ee6.js"><script type="text/javascript" async="" src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/f.txt"></script></head>
<body class="" data-rh="class" style="overflow: visible;">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/logo.svg"><link rel="preload" as="image" href="https://dcm.dev/blog/authors/dmitry.jpg"><link rel="preload" as="image" href="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/majid.webp"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_s0pr" role="banner"><div class="content_zf74 announcementBarContent_dpRF">DCM 1.28.0 is out, check out <a href="https://dcm.dev/blog/2025/04/15/whats-new-in-dcm-1-28-0/" target="_blank">the release article</a>! 🚀</div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="https://dcm.dev/"><div class="navbar__logo"><img alt="DCM Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU medium-zoom-image" src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/logo.svg"></div><b class="navbar__title text--truncate">DCM</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="https://dcm.dev/features/">Features</a><a class="navbar__item navbar__link" href="https://dcm.dev/customers/">Customers</a><a class="navbar__item navbar__link" href="https://dcm.dev/pricing/">Pricing</a><a class="navbar__item navbar__link" href="https://dcm.dev/docs/">Docs</a><a class="navbar__item navbar__link" href="https://dcm.dev/changelog/">Changelog</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="https://dcm.dev/blog/">Blog</a><a href="https://discord.gg/Vzjprgk4sb" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-discord-link" aria-label="Discord"></a><a href="https://dcm.dev/console" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link login-button">Log in<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a class="navbar__item navbar__link button button--primary header-trial-button" href="https://dcm.dev/request-license/">Start Teams Trial</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP" type="button" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite" aria-pressed="true"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Ctrl+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Latest articles</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="https://dcm.dev/blog/2025/04/15/whats-new-in-dcm-1-28-0/">What’s new in DCM 1.28.0</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="https://dcm.dev/blog/2025/03/24/fifteen-common-mistakes-flutter-dart-development/">15 Common Mistakes in Flutter and Dart Development (and How to Avoid Them)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="https://dcm.dev/blog/2025/02/27/ten-lesser-known-dart-flutter-functionalities/">10 Lesser-Known Dart and Flutter Functionalities You Should Start Using</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="https://dcm.dev/blog/2025/02/19/whats-new-in-dcm-1-27-0/">What’s new in DCM 1.27.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="https://dcm.dev/blog/2025/02/11/announcing-dcm-dashboards/">Announcing DCM Dashboards (Closed Beta)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="https://dcm.dev/blog/2025/01/23/integrating-dcm-into-dart-mappable/">Step by Step Guide to Integrate DCM Into A Flutter &amp; Dart Open Source Package: dart_mappable</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="https://dcm.dev/blog/2025/01/13/ten-flutter-widgets-probably-havent-heard-of-but-should-be-using/">10 Flutter Widgets Probably Haven’t Heard Of (But Should Be Using!)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="https://dcm.dev/blog/2025/01/09/whats-new-in-dcm-1-26-0/">What’s new in DCM 1.26.0</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="https://dcm.dev/blog/2024/12/10/demystifying-union-types-dart-tagged-untagged/">Demystifying Union Types in Dart, Tagged vs. Untagged, Once and For All</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="https://dcm.dev/blog/2024/12/09/whats-new-in-dcm-1-25-0/">What’s new in DCM 1.25.0</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_f1Hy">15 Common Mistakes in Flutter and Dart Development (and How to Avoid Them)</h1><div class="container_mt6G margin-vert--md"><time datetime="2025-03-24T00:00:00.000Z">March 24, 2025</time> · 39 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://dcm.dev/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP medium-zoom-image" alt="Majid Hajian" src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/majid.webp"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://dcm.dev/" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Majid Hajian</span></a></div><small class="authorTitle_nd0D" title="Developer Advocate">Developer Advocate</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p><img decoding="async" loading="lazy" alt="Cover" width="1400" height="748" class="img_ev3q medium-zoom-image" src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/2025-03-24-cover-121e22f5b5afc9934fea5cf586a5fc9e.webp"></p>
<p>As Flutter projects grow, mistakes that didn’t matter early on can 
start affecting performance, stability, and maintainability. Some are 
easy to miss. Others are misunderstood or handled inconsistently across 
teams.</p>
<p>In this article, I am going to focus on mistakes that are common in 
Flutter and Dart apps, especially in larger codebases or long-running 
apps which I have often seen in the last 6-7 years of being in the 
field. They range from memory leaks and rebuild issues to state misuse, 
testing gaps, and architectural problems. All of them are avoidable. 
Most can be detected with static analysis such as DCM. Some require 
deeper architectural decisions.</p>
<p>Let's get started and see which of these issues are familiar to you 
and which of them you already have done! I bet you can resonate with 
many of the following issues.</p>

<h2 class="anchor anchorWithStickyNavbar_LWe7" id="memory-leaks-from-missed-disposal">Memory Leaks from Missed Disposal<a href="#memory-leaks-from-missed-disposal" class="hash-link" aria-label="Direct link to Memory Leaks from Missed Disposal" title="Direct link to Memory Leaks from Missed Disposal">​</a></h2>
<p>This is perhaps, the most frequent issue that I have seen and continue to see still in many projects.</p>
<p>Some classes in Flutter allocate resources that Dart’s garbage collector doesn’t automatically clean up. These include <code>AnimationController</code>, <code>TextEditingController</code>, <code>ScrollController</code>, <code>FocusNode</code>, and <code>StreamSubscription</code>. If these aren’t disposed manually, they remain in memory even after the widget that created them is gone.</p>
<p>This usually happens inside <code>StatefulWidget</code> classes. The resource is initialized in <code>initState</code>, used in the widget tree, but never cleaned up in <code>dispose</code>. Over time, this leads to retained objects, increased memory usage, and—in long-lived or heavily navigated apps—crashes.</p>
<p>I already have written more about memory leaks in Dart, how these 
leaks happen, and how Dart manages memory under the hood, covered in <a href="https://dcm.dev/blog/2024/10/21/lets-talk-about-memory-leaks-in-dart-and-flutter/" target="_blank" rel="noopener noreferrer">this earlier article</a>.</p>
<p>Here’s a minimal example of a common leak:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">SearchBox</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">extends</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">StatefulWidget</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">SearchBox</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">key</span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">State</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">SearchBox</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">createState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token operator" style="color: rgb(0, 191, 249);">&gt;</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">_SearchBoxState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">_SearchBoxState</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">extends</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">State</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">SearchBox</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> controller </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">TextEditingController</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">Widget</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">build</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">BuildContext</span><span class="token plain"> context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">TextField</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">controller</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> controller</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This works fine visually. But every time this widget is rebuilt and a new instance is created, the previous <code>TextEditingController</code> stays in memory unless explicitly disposed.</p>
<p>Luckily, DCM flags this with the <a href="https://dcm.dev/docs/rules/flutter/dispose-fields/" target="_blank" rel="noopener noreferrer"><code>dispose-fields</code></a> rule. It checks for any fields in <code>State</code> classes that implement <code>dispose()</code>, <code>cancel()</code> or <code>close()</code> (like controllers) but aren’t released (and for non-Flutter code there is <a href="https://dcm.dev/docs/rules/common/dispose-class-fields/" target="_blank" rel="noopener noreferrer"><code>dispose-class-fields</code></a>). In this case, the rule will suggest fixing the leak like this:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">SearchBox</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">extends</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">StatefulWidget</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">SearchBox</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">key</span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">State</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">SearchBox</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">createState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token operator" style="color: rgb(0, 191, 249);">&gt;</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">_SearchBoxState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">_SearchBoxState</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">extends</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">State</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">SearchBox</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> controller </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">TextEditingController</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">void</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">dispose</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    controller</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token function" style="color: rgb(135, 175, 244);">dispose</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// correctly disposed</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">dispose</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">Widget</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">build</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">BuildContext</span><span class="token plain"> context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">TextField</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">controller</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> controller</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The same mistake shows up with subscriptions:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">LiveUpdates</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">extends</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">StatefulWidget</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">LiveUpdates</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">key</span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">State</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">LiveUpdates</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">createState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token operator" style="color: rgb(0, 191, 249);">&gt;</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">_LiveUpdatesState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">_LiveUpdatesState</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">extends</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">State</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">LiveUpdates</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">late</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">StreamSubscription</span><span class="token plain"> sub</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">void</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">initState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">initState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    sub </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">getUpdates</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">listen</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">event</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      </span><span class="token comment" style="color: rgb(153, 153, 153);">// update UI</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">Widget</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">build</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">BuildContext</span><span class="token plain"> context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Placeholder</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This compiles, runs, and looks correct. But the stream keeps sending 
events after the widget is removed. This leads to silent memory leaks 
and, in some cases, exceptions when those events try to update disposed 
state.</p>
<p>You can also use DCM's rule <a href="https://dcm.dev/docs/rules/common/avoid-unassigned-stream-subscriptions/" target="_blank" rel="noopener noreferrer">avoid-unassigned-stream-subscriptions</a> where warns when a stream subscription is not assigned to a variable.</p>
<p>The fix is the same, clean up in <code>dispose</code>.</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">void</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">dispose</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  sub</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token function" style="color: rgb(135, 175, 244);">cancel</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// Cancel is handled correctly</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">dispose</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In some cases, listeners are added manually using <code>addListener()</code> or <code>addPostFrameCallback()</code>, but never removed. This is harder to catch visually, but DCM covers it with the <a href="https://dcm.dev/docs/rules/flutter/always-remove-listener/" target="_blank" rel="noopener noreferrer"><code>always-remove-listener</code></a> rule. Here's a minimal example:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">SearchBar</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">extends</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">StatefulWidget</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">SearchBar</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">key</span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">State</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">SearchBar</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">createState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token operator" style="color: rgb(0, 191, 249);">&gt;</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">_SearchBarState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">_SearchBarState</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">extends</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">State</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">SearchBar</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> controller </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">TextEditingController</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">void</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">initState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">initState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    controller</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token function" style="color: rgb(135, 175, 244);">addListener</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">_onTextChange</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ LINT: This listener is not removed,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">void</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">_onTextChange</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token comment" style="color: rgb(153, 153, 153);">// handle input</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">void</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">dispose</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    controller</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token function" style="color: rgb(135, 175, 244);">removeListener</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">_onTextChange</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// correctly handled</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    controller</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token function" style="color: rgb(135, 175, 244);">dispose</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// correctly handled</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">dispose</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">Widget</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">build</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">BuildContext</span><span class="token plain"> context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">TextField</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">controller</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> controller</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In small projects, missing a <code>dispose</code> call may not be 
noticeable. But in larger apps, especially those that rely on real-time 
data or animations, these small omissions accumulate.</p>
<img alt="Memory Lifecycle of a Widget Without vs. With Dispose" class="themedComponent_mlkZ themedComponent--dark_xIcU medium-zoom-image" width="2689" height="862" style="margin-bottom: 20px; height: auto;" src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/memory-lifecycle-dispose-dark.webp">
<p>While you may detect them by PR review or second eye, having a static
 analysis like DCM with proper rules defined can help to detect them as 
early as possible and reduce the cost of development. By doing this you 
are shifting the cost of memory leak bugs to left to development phase.</p>
<p>I have already written about this concept in this article, <a href="https://dcm.dev/blog/2024/08/08/improving-code-review-process/#shifting-left-integrating-reviews-earlier" target="_blank" rel="noopener noreferrer">Improving Code Reviews - Tools and Practices for Dart and Flutter Projects</a>.</p>
<p>Here is a quick "dev checklist" in case you want to add to your documentation to double check for each PR.</p>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input disabled="disabled" type="checkbox"> Are all controllers and subscriptions disposed?</li>
<li class="task-list-item"><input disabled="disabled" type="checkbox"> Are added listeners removed?</li>
<li class="task-list-item"><input disabled="disabled" type="checkbox"> Are you disposing resources where they were created?</li>
<li class="task-list-item"><input disabled="disabled" type="checkbox"> Are you calling <code>super.dispose()</code> at the end?</li>
</ul>
<p>If you are also curious, DCM's rule <a href="https://dcm.dev/docs/rules/flutter/proper-super-calls/" target="_blank" rel="noopener noreferrer">proper-super-calls</a> checks that super calls in the <code>initState</code> and <code>dispose</code>
 methods are called in the correct order. It's fairly important because 
calling these super methods in the wrong order can lead to bugs when 
some properties are not yet initialized or have already been disposed.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="unnecessary-rebuilds-via-setstate">Unnecessary Rebuilds via <code>setState</code><a href="#unnecessary-rebuilds-via-setstate" class="hash-link" aria-label="Direct link to unnecessary-rebuilds-via-setstate" title="Direct link to unnecessary-rebuilds-via-setstate">​</a></h2>
<p><code>setState()</code> is one of Flutter's most essential methods 
which is marking a widget as needing a rebuild. But misusing it often 
leads to poor performance issues, unnecessary widget rebuilds, or even 
runtime errors. I have seen many times issues related to this method 
therefore, I am going to write most common patterns that I have seen and
 how you can prevent it.</p>
<img alt="setState Flow" class="themedComponent_mlkZ themedComponent--dark_xIcU medium-zoom-image" width="2689" height="862" style="margin-bottom: 20px; height: auto;" src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/setstate-flow-dark.webp">
<p>Let's start with example below:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">ChatScreen</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">extends</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">StatefulWidget</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">ChatScreen</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">key</span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">State</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">ChatScreen</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">createState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token operator" style="color: rgb(0, 191, 249);">&gt;</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">_ChatScreenState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">_ChatScreenState</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">extends</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">State</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">ChatScreen</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> messages </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">String</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token punctuation" style="color: rgb(167, 219, 247);">[</span><span class="token punctuation" style="color: rgb(167, 219, 247);">]</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">void</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">addMessage</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">String</span><span class="token plain"> msg</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token function" style="color: rgb(135, 175, 244);">setState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      messages</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token function" style="color: rgb(135, 175, 244);">add</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">msg</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ LINT: causes full widget rebuild</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">Widget</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">build</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">BuildContext</span><span class="token plain"> context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Column</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      children</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">[</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">        </span><span class="token class-name" style="color: rgb(127, 219, 202);">HeaderWidget</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// Rebuilt unnecessarily</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">        </span><span class="token class-name" style="color: rgb(127, 219, 202);">MessageList</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">messages</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> messages</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">        </span><span class="token class-name" style="color: rgb(127, 219, 202);">MessageInput</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">onSend</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> addMessage</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      </span><span class="token punctuation" style="color: rgb(167, 219, 247);">]</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This works but each new message rebuilds the entire screen, including <code>HeaderWidget</code> and <code>MessageInput</code>, even though they didn’t change. This isn’t incorrect behavior, but it’s inefficient and adds up over time.</p>
<p>One way to reduce unnecessary rebuilds is to isolate the dynamic part into its own widget:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">ChatScreen</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">extends</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">StatelessWidget</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">ChatScreen</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">key</span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">Widget</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">build</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">BuildContext</span><span class="token plain"> context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Column</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      children</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">[</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">        </span><span class="token class-name" style="color: rgb(127, 219, 202);">HeaderWidget</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">        </span><span class="token class-name" style="color: rgb(127, 219, 202);">Expanded</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">child</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">MessageListContainer</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">        </span><span class="token class-name" style="color: rgb(127, 219, 202);">MessageInput</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      </span><span class="token punctuation" style="color: rgb(167, 219, 247);">]</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">MessageListContainer</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">extends</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">StatefulWidget</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">MessageListContainer</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">key</span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">State</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">MessageListContainer</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">createState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token operator" style="color: rgb(0, 191, 249);">&gt;</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">_MessageListContainerState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">_MessageListContainerState</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">extends</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">State</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">MessageListContainer</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> messages </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">String</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token punctuation" style="color: rgb(167, 219, 247);">[</span><span class="token punctuation" style="color: rgb(167, 219, 247);">]</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">void</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">addMessage</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">String</span><span class="token plain"> msg</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token function" style="color: rgb(135, 175, 244);">setState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      messages</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token function" style="color: rgb(135, 175, 244);">add</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">msg</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">Widget</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">build</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">BuildContext</span><span class="token plain"> context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">MessageList</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      messages</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> messages</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      onSend</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> addMessage</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Now, only <code>MessageListContainer</code> rebuilds when messages change and not the whole screen.</p>
<p>A frequent mistake is calling <code>setState()</code> within lifecycle methods like <code>initState</code>, <code>didUpdateWidget</code>, or directly inside the <code>build</code> method itself. This triggers redundant rebuilds:</p>
<p>Take this as an example:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">_MyWidgetState</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">extends</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">State</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">MyWidget</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">String</span><span class="token plain"> myString </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token string-literal string" style="color: rgb(225, 255, 228);">''</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">void</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">initState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">initState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ LINT: unnecessary call, state can be set directly</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token function" style="color: rgb(135, 175, 244);">setState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      myString </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'Hello'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">Widget</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">build</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">BuildContext</span><span class="token plain"> context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ LINT: unnecessary call, causes extra rebuild</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token function" style="color: rgb(135, 175, 244);">setState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      myString </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'Hello'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Text</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">myString</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Calling <code>setState</code> in such cases will result in additional widget re-rendering, which will negatively affect performance.</p>
<p>The <a href="https://dcm.dev/docs/rules/flutter/avoid-unnecessary-setstate/" target="_blank" rel="noopener noreferrer"><code>avoid-unnecessary-setstate</code></a> rule detects these problematic patterns and suggests directly assigning state values without calling <code>setState()</code> in these lifecycle methods:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">_MyWidgetState</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">extends</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">State</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">MyWidget</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">String</span><span class="token plain"> myString </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token string-literal string" style="color: rgb(225, 255, 228);">''</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">void</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">initState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">initState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    myString </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'Hello'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ✅ directly set without setState</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">Widget</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">build</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">BuildContext</span><span class="token plain"> context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Text</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">myString</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Another subtle but common issue occurs when calling <code>setState()</code> after an asynchronous call (<code>await</code>). By the time the async operation completes, the widget might be already unmounted. This leads to runtime errors:</p>
<p>Take the following example:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">onPressed</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">async</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> data </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">await</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">fetchData</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ LINT: calling setState without checking mounted</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token function" style="color: rgb(135, 175, 244);">setState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    message </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> data</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <a href="https://dcm.dev/docs/rules/flutter/use-setstate-synchronously/" target="_blank" rel="noopener noreferrer"><code>use-setstate-synchronously</code></a>
 rule catches these risky scenarios. The recommended fixes are either 
checking if the widget is still mounted or restructuring state 
management altogether, such as using <code>FutureBuilder</code>:</p>
<p>One way to fix the issue above is to use <code>mounted</code>:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">onPressed</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">async</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> data </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">await</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">fetchData</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">if</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">mounted</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ✅ safely updating state</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token function" style="color: rgb(135, 175, 244);">setState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      message </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> data</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Or alternatively you can use <code>FutureBuilder</code>:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">_MyWidgetState</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">extends</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">State</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">MyWidget</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">Future</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">String</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token operator" style="color: rgb(0, 191, 249);">?</span><span class="token plain"> messageFuture</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">Widget</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">build</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">BuildContext</span><span class="token plain"> context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">ElevatedButton</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      onPressed</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">        </span><span class="token function" style="color: rgb(135, 175, 244);">setState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">          messageFuture </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">fetchData</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">        </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      child</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">FutureBuilder</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">String</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">        future</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> messageFuture</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">        builder</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> snapshot</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">          </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Text</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">snapshot</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token plain">data </span><span class="token operator" style="color: rgb(0, 191, 249);">?</span><span class="token operator" style="color: rgb(0, 191, 249);">?</span><span class="token plain"> </span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'Loading...'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">        </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      </span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Using an empty <code>setState()</code> callback is typically a bug, as it triggers a rebuild without changing state, for example:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">FooWidget</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  onChange</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">value</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">async</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ LINT: empty setState is unnecessary</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token function" style="color: rgb(135, 175, 244);">setState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>DCM's <a href="https://dcm.dev/docs/rules/flutter/avoid-empty-setstate/" target="_blank" rel="noopener noreferrer"><code>avoid-empty-setstate</code></a>
 rule flags these no-op rebuilds and recommends either updating state 
meaningfully or removing the unnecessary call entirely and ensure you 
are fixing this issue:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">FooWidget</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  onChange</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">value</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">async</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token function" style="color: rgb(135, 175, 244);">setState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      myState </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'changed'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ✅ actual state change</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>While we build apps, there are multiple libraries or other built-in 
mechanism that you can use as your state management solutions. For 
example:</p>
<ul>
<li><strong>ValueNotifier &amp; ValueListenableBuilder</strong>:</li>
</ul>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> counter </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">ValueNotifier</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">int</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token number" style="color: rgb(141, 236, 149);">0</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token class-name" style="color: rgb(127, 219, 202);">ValueListenableBuilder</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">int</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  valueListenable</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> counter</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  builder</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> value</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> _</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token operator" style="color: rgb(0, 191, 249);">&gt;</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Text</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'Count: </span><span class="token string-literal interpolation punctuation" style="color: rgb(167, 219, 247);">$</span><span class="token string-literal interpolation expression">value</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>State Management Libraries (Riverpod, Bloc, Provider)</strong>:</li>
</ul>
<p>These provide controlled, decoupled updates and avoid widespread rebuilds across the widget tree.</p>
<img alt="setState Usage Patterns" class="themedComponent_mlkZ themedComponent--dark_xIcU medium-zoom-image" width="2689" height="862" style="margin-bottom: 20px; height: auto;" src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/setstate-usage-patterns-dark.webp">
<p>Misusing <code>setState()</code> might seem trivial at first, but as 
your application scales, these seemingly small inefficiencies 
accumulate, hurting performance and responsiveness.</p>
<p>In case of using libraries such as Riverpod, Bloc and Provider, <a href="https://dcm.dev/docs/rules/?categories=riverpod&amp;categories=bloc&amp;categories=provider" target="_blank" rel="noopener noreferrer">DCM also provides rules</a> that helps you ensure utilizing these libraries with their best practices.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="deep-widget-trees--excessive-rebuilds">Deep Widget Trees &amp; Excessive Rebuilds<a href="#deep-widget-trees--excessive-rebuilds" class="hash-link" aria-label="Direct link to Deep Widget Trees &amp; Excessive Rebuilds" title="Direct link to Deep Widget Trees &amp; Excessive Rebuilds">​</a></h2>
<p>Flutter encourages building UIs through widget composition. Most 
widgets are lightweight, and nesting them is generally cheap. But in 
larger apps, deep or unbalanced widget trees can become a performance 
concern especially when paired with unnecessary rebuilds.</p>
<p>As soon as each time <code>build()</code> is called, Flutter walks 
the tree, lays it out, and paints it. In deeply nested structures, that 
walk takes longer and touches more elements. This becomes noticeable 
when updates are frequent—such as during animations, gestures, or 
scrolls.</p>
<p>Here’s a basic example of a tree that’s more complex than it needs to be:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">Widget</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">build</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">BuildContext</span><span class="token plain"> context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Container</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    padding</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">EdgeInsets</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">all</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token number" style="color: rgb(141, 236, 149);">16</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    child</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Row</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      children</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">[</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">        </span><span class="token class-name" style="color: rgb(127, 219, 202);">Expanded</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">          child</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Column</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">            children</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">[</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">              </span><span class="token class-name" style="color: rgb(127, 219, 202);">Container</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">                padding</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">EdgeInsets</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">symmetric</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">horizontal</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">12</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">                child</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Row</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">                  children</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">[</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">                    </span><span class="token class-name" style="color: rgb(127, 219, 202);">Icon</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">Icons</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">star</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">                    </span><span class="token class-name" style="color: rgb(127, 219, 202);">SizedBox</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">width</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">8</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">                    </span><span class="token class-name" style="color: rgb(127, 219, 202);">Text</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'Nested content'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">                  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">]</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">                </span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">              </span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">            </span><span class="token punctuation" style="color: rgb(167, 219, 247);">]</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">          </span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">        </span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      </span><span class="token punctuation" style="color: rgb(167, 219, 247);">]</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This layout is valid but more verbose than necessary. The nesting 
adds cost during rebuilds and can make the UI harder to maintain. 
Flattening the structure helps both performance and readability:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">Widget</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">build</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">BuildContext</span><span class="token plain"> context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Padding</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    padding</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">EdgeInsets</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">all</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token number" style="color: rgb(141, 236, 149);">16</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    child</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Row</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      children</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">[</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">        </span><span class="token class-name" style="color: rgb(127, 219, 202);">Icon</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">Icons</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">star</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">        </span><span class="token class-name" style="color: rgb(127, 219, 202);">SizedBox</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">width</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">8</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">        </span><span class="token class-name" style="color: rgb(127, 219, 202);">Text</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'Nested content'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      </span><span class="token punctuation" style="color: rgb(167, 219, 247);">]</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>One of the aspect of this issue is architectural decision in your 
team, however, another aspect is not having a proper guidelines. That's 
where you can leverage <a href="https://dcm.dev/docs/cli/analysis/analyze-widgets/" target="_blank" rel="noopener noreferrer">DCM widget analyze</a> command to help you maintain your widgets in the highest standard and quality.</p>
<p><img decoding="async" loading="lazy" alt="Widget Analysis Example" class="img_ev3q medium-zoom-image" src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/widgets-example.webp"></p>
<p>Another common mistake is wrapping everything in a <code>Container</code> even when it’s not needed. <code>Container</code> is flexible, but it doesn’t optimize for specific layout intent. In many cases, <code>Padding</code>, <code>Align</code>, or <code>DecoratedBox</code> are more efficient.</p>
<p>DCM helps identify these inefficiencies with rules like:</p>
<ul>
<li><a href="https://dcm.dev/docs/rules/flutter/prefer-align-over-container/" target="_blank" rel="noopener noreferrer"><code>prefer-align-over-container</code></a>: suggests using <code>Align</code> when only alignment is needed.</li>
<li><a href="https://dcm.dev/docs/rules/flutter/prefer-transform-over-container/" target="_blank" rel="noopener noreferrer"><code>prefer-transform-over-container</code></a>: flags use of <code>Container</code> for transforms.</li>
<li><a href="https://dcm.dev/docs/rules/flutter/prefer-const-border-radius/" target="_blank" rel="noopener noreferrer"><code>prefer-const-border-radius</code></a>: encourages use of const values to reduce rebuild cost.</li>
<li><a href="https://dcm.dev/docs/rules/common/prefer-declaring-const-constructor/" target="_blank" rel="noopener noreferrer"><code>prefer-declaring-const-constructor</code></a>: promotes immutable widget trees.</li>
<li><a href="https://dcm.dev/docs/rules/flutter/prefer-container/" target="_blank" rel="noopener noreferrer"><code>prefer-container</code></a>: suggests replacing a sequence of widgets with a single <code>Container</code> widget.</li>
</ul>
<p>Here is an exmaple:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ Lint: uses Container for alignment</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token class-name" style="color: rgb(127, 219, 202);">Container</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  alignment</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Alignment</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">center</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  child</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Text</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'Centered'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>that can be better if you do:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">Align</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  alignment</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Alignment</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">center</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  child</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Text</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'Centered'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Reducing rebuild impact isn’t only about structure but it’s also about immutability. Marking widgets as <code>const</code> tells Flutter they don’t need to be rebuilt.</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Text</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'Static label'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>DCM’s <a href="https://dcm.dev/docs/rules/common/prefer-declaring-const-constructor/" target="_blank" rel="noopener noreferrer"><code>prefer-declaring-const-constructor</code></a> rule enforces this across widgets and classes, helping shrink the diff Flutter needs to compare during the build phase.</p>
<p>Another optimization is using <code>RepaintBoundary</code> to isolate parts of the UI that update frequently. This limits how much of the tree is re-painted when state changes.</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">RepaintBoundary</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  child</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">CustomChartWidget</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">data</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> chartData</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This is especially useful for dashboards, scrollable lists, or widgets with high visual complexity.</p>
<p>For long lists, using <code>ListView.builder</code> or <code>GridView.builder</code> is critical. These widgets lazily build only visible items, avoiding upfront layout and memory usage.</p>
<p>You can read more about <a href="https://dcm.dev/blog/2025/01/13/ten-flutter-widgets-probably-havent-heard-of-but-should-be-using/" target="_blank" rel="noopener noreferrer">RepaintBoundary in my previous blog</a>.</p>
<p>Finally, DCM’s <a href="https://dcm.dev/docs/rules/flutter/avoid-returning-widgets/" target="_blank" rel="noopener noreferrer"><code>avoid-returning-widgets</code></a> rule detects functions that return <code>Widget</code>
 instances inline. This is often a sign of bloated build methods or 
repeated layout logic that could be extracted into a separate widget.</p>
<p>Let's take this small example:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">Widget</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">_buildLabel</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Padding</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    padding</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">EdgeInsets</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">all</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token number" style="color: rgb(141, 236, 149);">8</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    child</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Text</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">title</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This potentially can be a widget as follows:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Label</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">extends</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">StatelessWidget</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">String</span><span class="token plain"> title</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Label</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token keyword" style="color: rgb(0, 191, 249);">this</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">title</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">key</span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">Widget</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">build</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">BuildContext</span><span class="token plain"> context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Padding</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      padding</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">EdgeInsets</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">all</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token number" style="color: rgb(141, 236, 149);">8</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      child</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Text</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">title</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This keeps the build method clean and gives Flutter more control over
 caching and identity management. I have a deep dive explanation about 
this in my book <a href="https://flutterengineering.io/" target="_blank" rel="noopener noreferrer">FlutterEngineering</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="poor-async-handling">Poor Async Handling<a href="#poor-async-handling" class="hash-link" aria-label="Direct link to Poor Async Handling" title="Direct link to Poor Async Handling">​</a></h2>
<p>Flutter apps depend heavily on asynchronous operations like network calls, file I/O, and data streaming. While Dart's <code>Future</code> and <code>Stream</code> APIs simplify async handling, they also introduce pitfalls if misused.</p>
<img alt="Async Handling Sequence" class="themedComponent_mlkZ themedComponent--dark_xIcU medium-zoom-image" height="862" style="margin-bottom: 20px; height: auto;" src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/async-sequence-dark.webp">
<p>I usually see common patterns that I can categorize into failing to 
properly handle errors, updating widget states incorrectly, and 
mismanaging async calls. Let's explore.</p>
<p>I have mentioned this earlier in this article, let me repeat it again. A typical scenario occurs when calling <code>setState()</code> after an async operation without verifying whether the widget is still active:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">Future</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics keyword" style="color: rgb(0, 191, 249);">void</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">loadProfile</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">async</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> user </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">await</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">fetchUser</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token function" style="color: rgb(135, 175, 244);">setState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    name </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> user</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token plain">name</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ LINT: widget might be unmounted</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If the widget disposes before <code>fetchUser()</code> completes, it throws a runtime error: <code>setState() called after dispose()</code>.</p>
<p>As I mentioned in <code>setState</code> section, DCM’s <a href="https://dcm.dev/docs/rules/flutter/use-setstate-synchronously/" target="_blank" rel="noopener noreferrer"><code>use-setstate-synchronously</code></a> rule flags such issues including using <code>mounted</code> and <code>FutureBuilder</code> as I stated earlier.</p>
<p>Another subtle issue occurs when an awaited future throws an error after an async gap, causing unexpected exceptions:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">Future</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics keyword" style="color: rgb(0, 191, 249);">void</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">asyncFunctionAssignFuture</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">async</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">try</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> future </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">asyncFunctionError</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">await</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Future</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">delayed</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Duration</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">seconds</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">1</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">await</span><span class="token plain"> future</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ LINT: potential uncaught error</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">catch</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">e</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token function" style="color: rgb(135, 175, 244);">print</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'caught: </span><span class="token string-literal interpolation punctuation" style="color: rgb(167, 219, 247);">$</span><span class="token string-literal interpolation expression">e</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>DCM's <a href="https://dcm.dev/docs/rules/common/avoid-uncaught-future-errors/" target="_blank" rel="noopener noreferrer"><code>avoid-uncaught-future-errors</code></a> rule detects such problematic patterns. The recommended solution is to handle errors directly when assigning the future:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">Future</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics keyword" style="color: rgb(0, 191, 249);">void</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">asyncFunctionAssignFuture</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">async</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">try</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> future </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">asyncFunctionError</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">catchError</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">e</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      </span><span class="token function" style="color: rgb(135, 175, 244);">print</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'caught early: </span><span class="token string-literal interpolation punctuation" style="color: rgb(167, 219, 247);">$</span><span class="token string-literal interpolation expression">e</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ✅ handle potential errors immediately</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">await</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Future</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">delayed</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Duration</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">seconds</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">1</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">await</span><span class="token plain"> future</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">catch</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">e</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token function" style="color: rgb(135, 175, 244);">print</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'caught later: </span><span class="token string-literal interpolation punctuation" style="color: rgb(167, 219, 247);">$</span><span class="token string-literal interpolation expression">e</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Returning a <code>Future</code> directly without awaiting within a <code>try/catch</code> block can silently bypass error handling:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">Future</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">String</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">report</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">Iterable</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">String</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> records</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">async</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">try</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">anotherAsyncMethod</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ LINT: should await</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">catch</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">e</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token function" style="color: rgb(135, 175, 244);">print</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">e</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'default'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>DCM’s <a href="https://dcm.dev/docs/rules/common/prefer-return-await/" target="_blank" rel="noopener noreferrer"><code>prefer-return-await</code></a> rule recommends explicitly awaiting futures to ensure errors are caught properly:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">Future</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">String</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">report</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">Iterable</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">String</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> records</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">async</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">try</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">await</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">anotherAsyncMethod</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ✅ proper error handling</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">catch</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">e</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token function" style="color: rgb(135, 175, 244);">print</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">e</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'default'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Calling async functions in synchronous contexts (like constructors or
 synchronous methods) results in untracked executions and missed 
exceptions:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">SomeClass</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">SomeClass</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token function" style="color: rgb(135, 175, 244);">asyncValue</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ LINT: async call in sync constructor</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>DCM's <a href="https://dcm.dev/docs/rules/common/avoid-async-call-in-sync-function/" target="_blank" rel="noopener noreferrer"><code>avoid-async-call-in-sync-function</code></a> rule recommends either explicitly ignoring or awaiting such calls:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">SomeClass</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">SomeClass</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token function" style="color: rgb(135, 175, 244);">unawaited</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token function" style="color: rgb(135, 175, 244);">asyncValue</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ✅ explicitly unawaited</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">Future</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics keyword" style="color: rgb(0, 191, 249);">void</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">asyncInit</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">async</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">await</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">asyncValue</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ✅ correct async method</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You see that using structured async patterns, explicit error 
handling, and leveraging DCM rules ensures more predictable, readable, 
and stable asynchronous code.</p>
<div class="wrapper_plzk"><p>DCM is a code quality tool that helps your 
team move faster by reducing the time spent on code reviews, finding 
tricky bugs, identifying complex code, and unifying code style.</p><div class="heroButtons_DVKJ"><a class="button button--primary button--md" href="https://dcm.dev/pricing/">Start for Free</a><a class="button button--secondary button--md demo-button" href="https://dcm.dev/demo/"><svg width="12" height="17" viewBox="0 0 12 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.4742 7.67501C12.054 8.0722 12.054 8.92781 11.4742 9.32499L1.60147 16.0881C0.937832 16.5427 0.0363247 16.0675 0.0363247 15.2631L0.0363253 1.73691C0.0363253 0.932494 0.937834 0.457306 1.60147 0.911917L11.4742 7.67501Z" fill="#000"></path></svg>Watch Demo</a></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="poor-images-optimization">Poor Images Optimization<a href="#poor-images-optimization" class="hash-link" aria-label="Direct link to Poor Images Optimization" title="Direct link to Poor Images Optimization">​</a></h2>
<p>I have seen many apps that they are huge in terms of bundle size, 
just because images are not optimized! This is often overlooked.</p>
<p>Images are essential in creating visually appealing Flutter apps, but
 improper handling can lead to significant performance bottlenecks. 
Large, uncompressed images, incorrect caching strategies, or unnecessary
 resolutions often result in increased memory consumption, slower load 
times, and larger app sizes.</p>
<p>A common pitfall is directly using high-resolution images without scaling them down appropriately for the target devices:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">Image</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">asset</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'assets/images/banner@3x.png'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This might render correctly but can cause excessive memory usage, 
particularly noticeable in scroll views or frequently rebuilt widgets. 
To optimize this, Flutter offers built-in parameters:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">Image</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">asset</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'assets/images/banner.png'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  cacheWidth</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">800</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// appropriate width based on layout</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  cacheHeight</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">400</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// appropriate height based on layout</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Loading remote images without controlling their in-memory size can also degrade performance:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">Image</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">network</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'https://example.com/image.jpg'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Optimizing this by specifying <code>cacheWidth</code> and <code>cacheHeight</code> significantly reduces memory usage:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">Image</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">network</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'https://example.com/image.jpg'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  cacheWidth</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">400</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  cacheHeight</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">200</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Repeated downloads of network images waste bandwidth and slow down the app. The <a href="https://pub.dev/packages/cached_network_image" target="_blank" rel="noopener noreferrer"><code>cached_network_image</code></a> package efficiently caches images and provides placeholders and error handling:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">CachedNetworkImage</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  imageUrl</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'https://example.com/image.jpg'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  placeholder</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> url</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token operator" style="color: rgb(0, 191, 249);">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">CircularProgressIndicator</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  errorWidget</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> url</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> error</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token operator" style="color: rgb(0, 191, 249);">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Icon</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">Icons</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">error</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For logos and scalable icons, raster images can lead to unnecessary 
bloat and scaling issues. Using vector graphics like SVG provides 
resolution independence and smaller file sizes:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">SvgPicture</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">asset</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'assets/icons/logo.svg'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>A common mistake is applying opacity directly to images using <code>Opacity</code>, creating expensive compositing layers:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">Opacity</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  opacity</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">0.5</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  child</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Image</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">asset</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'assets/images/photo.jpg'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>DCM's <a href="https://dcm.dev/docs/rules/flutter/avoid-incorrect-image-opacity/" target="_blank" rel="noopener noreferrer"><code>avoid-incorrect-image-opacity</code></a> rule flags this inefficiency. Apply opacity directly to the image to avoid compositing:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">Image</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">asset</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'assets/images/photo.jpg'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  color</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Colors</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">black</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token function" style="color: rgb(135, 175, 244);">withOpacity</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token number" style="color: rgb(141, 236, 149);">0.5</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  colorBlendMode</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">BlendMode</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">dstIn</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>DCM's <a href="https://dcm.dev/docs/cli/analysis/analyze-assets/" target="_blank" rel="noopener noreferrer"><code>analyze-assets</code></a> command identifies issues such as oversized images, incorrect resolutions, unused assets, and improper naming conventions.</p>
<p><img decoding="async" loading="lazy" alt="Assets analysis" class="img_ev3q medium-zoom-image" src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/assets-example.webp"></p>
<p>For example, you can detect oversized images:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">dcm analyze-assets lib </span><span class="token parameter variable" style="color: rgb(167, 219, 247);">--size</span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain">100KB</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Or find images that can benefit from converting to WebP:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">dcm analyze-assets lib </span><span class="token parameter variable" style="color: rgb(167, 219, 247);">--webp</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This tool also identifies missing or incorrect high-resolution variants to ensure consistent asset quality across devices:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">dcm analyze-assets lib </span><span class="token parameter variable" style="color: rgb(167, 219, 247);">--resolution</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Proactive image optimization significantly improves your app's 
performance and user experience. Leveraging Flutter's built-in 
optimizations alongside DCM’s asset analysis helps keep your app lean, 
responsive, and visually crisp.</p>
<p><img decoding="async" loading="lazy" alt="Assets Analysis Report" class="img_ev3q medium-zoom-image" src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/assets-report-example.webp"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="poor-error-handling">Poor Error Handling<a href="#poor-error-handling" class="hash-link" aria-label="Direct link to Poor Error Handling" title="Direct link to Poor Error Handling">​</a></h2>
<p>Many times, I have dragged into a project, opened a code base and I 
have seen poor error handlings. Effective error handling in Flutter is 
critical, especially as applications scale. Relying solely on basic <code>try/catch</code>
 blocks or inconsistent patterns can lead to silent failures, 
untraceable exceptions, and challenging debugging sessions. Here are a 
few patterns that I have observed in the past.</p>
<p>A frequent issue is catching errors without taking meaningful action:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">try</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> data </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">await</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">fetchData</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">catch</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">e</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ LINT: empty catch block</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This is leading to unnoticed bugs. It's always important you handle errors accordingly.</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">try</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> data </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">await</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">fetchData</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">catch</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">e</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> stack</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token function" style="color: rgb(135, 175, 244);">logError</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">e</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> stack</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token function" style="color: rgb(135, 175, 244);">showToast</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'Something went wrong'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Throwing new exceptions within a catch block can cause the original stack trace to be lost:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">try</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">await</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">saveItem</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">catch</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">e</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">throw</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">SaveException</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'Failed to save'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ LINT: loses original stack trace</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>DCM's <a href="https://dcm.dev/docs/rules/common/avoid-throw-in-catch-block/" target="_blank" rel="noopener noreferrer"><code>avoid-throw-in-catch-block</code></a> highlights this. Use <code>Error.throwWithStackTrace</code> to preserve the original context:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">try</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">await</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">saveItem</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">catch</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">e</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> stack</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">Error</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">throwWithStackTrace</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">SaveException</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'Failed to save'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> stack</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ✅ preserves stack trace</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Catch blocks containing only <code>rethrow</code> without additional handling are redundant and flagged by DCM’s <a href="https://dcm.dev/docs/rules/common/avoid-only-rethrow/" target="_blank" rel="noopener noreferrer"><code>avoid-only-rethrow</code></a> rule:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">try</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token comment" style="color: rgb(153, 153, 153);">// some operation</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">catch</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">e</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">rethrow</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ LINT: redundant catch block</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Either handle specific exceptions or remove the catch block:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">try</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token comment" style="color: rgb(153, 153, 153);">// some operation</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">catch</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">e</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">if</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">e </span><span class="token operator" style="color: rgb(0, 191, 249);">is</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">SpecificException</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token function" style="color: rgb(135, 175, 244);">handleSpecificException</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">e</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">else</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">rethrow</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Repeated identical catch blocks across your codebase lead to poor maintainability.</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">try</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">await</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">fetchUser</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">catch</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">e</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token function" style="color: rgb(135, 175, 244);">logError</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">e</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token function" style="color: rgb(135, 175, 244);">showToast</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'Error occurred'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">try</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">await</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">fetchSettings</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">catch</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">e</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token function" style="color: rgb(135, 175, 244);">logError</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">e</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token function" style="color: rgb(135, 175, 244);">showToast</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'Error occurred'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <a href="https://dcm.dev/docs/rules/common/avoid-identical-exception-handling-blocks/" target="_blank" rel="noopener noreferrer"><code>avoid-identical-exception-handling-blocks</code></a> rule identifies such duplication. Abstract this logic:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">Future</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">T</span><span class="token generics operator" style="color: rgb(0, 191, 249);">?</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token generic-function" style="color: rgb(135, 175, 244);">safeCall</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">T</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">Future</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">T</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Function</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> task</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">async</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">try</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">await</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">task</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">catch</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">e</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token function" style="color: rgb(135, 175, 244);">logError</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">e</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token function" style="color: rgb(135, 175, 244);">showToast</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'Something went wrong'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">null</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">await</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">safeCall</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">fetchUser</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">await</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">safeCall</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">fetchSettings</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Using Dart's latest features like pattern matching and structured error handling:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">Future</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">Result</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">User</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token generics"> </span><span class="token generics class-name" style="color: rgb(127, 219, 202);">FetchError</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">fetchUser</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> result </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">await</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">fetchUser</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">switch</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">result</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">case</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Success</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> value</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token comment" style="color: rgb(153, 153, 153);">// handle success</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">case</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Failure</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> error</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token comment" style="color: rgb(153, 153, 153);">// handle error</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This explicit handling pattern prevents unanticipated exceptions and makes error flows clearer.</p>
<p>Dart provides built-in <code>Exception</code> and <code>Error</code> types. Always throw meaningful exceptions, below is an good example:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">throw</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">FormatException</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'Invalid input provided'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Using Assertions for Development:</strong></p>
<p>Assertions (<code>assert</code>) validate assumptions during development:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">assert</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">url</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token function" style="color: rgb(135, 175, 244);">startsWith</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'https'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'URL must start with "https"'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>These checks are stripped in production builds and ensures no runtime overhead.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ineffective-testing">Ineffective Testing<a href="#ineffective-testing" class="hash-link" aria-label="Direct link to Ineffective Testing" title="Direct link to Ineffective Testing">​</a></h2>
<p>Writing and maintaining tests is as critical as writing your 
application code. As Flutter apps grow, relying solely on manual testing
 quickly becomes unsustainable.</p>
<p>One common mistake is writing tests without any assertions, meaning the tests pass even if the code doesn't behave as intended:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token function" style="color: rgb(135, 175, 244);">test</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'fetches user data'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">async</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">await</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">fetchUser</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ LINT: missing test assertion</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>DCM’s <a href="https://dcm.dev/docs/rules/common/missing-test-assertion/" target="_blank" rel="noopener noreferrer"><code>missing-test-assertion</code></a> rule flags this oversight. Every test should explicitly validate expected behavior or outcomes:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token function" style="color: rgb(135, 175, 244);">test</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'fetches user data'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">async</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> user </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">await</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">fetchUser</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token function" style="color: rgb(135, 175, 244);">expect</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">user</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token plain">name</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">equals</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'Alice'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Another frequent issue is duplicating the same assertion multiple 
times within a single test, adding no value and making tests harder to 
read:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token function" style="color: rgb(135, 175, 244);">test</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'form validation'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> result </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">validateEmail</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'test@example.com'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token function" style="color: rgb(135, 175, 244);">expect</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">result</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> isTrue</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token function" style="color: rgb(135, 175, 244);">expect</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">result</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">equals</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token boolean" style="color: rgb(141, 236, 149);">true</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ LINT: duplicate assertion</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>DCM’s <a href="https://dcm.dev/docs/rules/common/avoid-duplicate-test-assertions/" target="_blank" rel="noopener noreferrer"><code>avoid-duplicate-test-assertions</code></a> rule catches redundant assertions, prompting concise and focused tests:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token function" style="color: rgb(135, 175, 244);">test</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'form validation'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> result </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">validateEmail</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'test@example.com'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token function" style="color: rgb(135, 175, 244);">expect</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">result</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> isTrue</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Using incorrect matchers or literals can lead to misleading test outcomes or false positives:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> _someNumber </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">1</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> _someString </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'1'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> _someList </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">[</span><span class="token number" style="color: rgb(141, 236, 149);">1</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">2</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">3</span><span class="token punctuation" style="color: rgb(167, 219, 247);">]</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ LINT: Target expression is not a 'List'.</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token function" style="color: rgb(135, 175, 244);">expect</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">_someString</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> isList</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ LINT: Target expression does not have a 'length' property.</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token function" style="color: rgb(135, 175, 244);">expect</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">_someNumber</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">hasLength</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token number" style="color: rgb(141, 236, 149);">1</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>DCM’s <a href="https://dcm.dev/docs/rules/common/avoid-misused-test-matchers/" target="_blank" rel="noopener noreferrer"><code>avoid-misused-test-matchers</code></a> rule identifies incorrect or nonsensical matcher usage. Tests should always use matchers properly aligned with tested values:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token function" style="color: rgb(135, 175, 244);">expect</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">_someString</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token generic-function" style="color: rgb(135, 175, 244);">isA</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">String</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token function" style="color: rgb(135, 175, 244);">expect</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">_someList</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">hasLength</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token number" style="color: rgb(141, 236, 149);">3</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Tests should also avoid using literal values directly and instead 
rely on matchers provided by the test package for clearer failure 
messages:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> array </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">[</span><span class="token number" style="color: rgb(141, 236, 149);">1</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">2</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">3</span><span class="token punctuation" style="color: rgb(167, 219, 247);">]</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token function" style="color: rgb(135, 175, 244);">expect</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">array</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token plain">length</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">1</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ LINT: Prefer test matchers instead of literal values.</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token function" style="color: rgb(135, 175, 244);">expect</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">array</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">hasLength</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token number" style="color: rgb(141, 236, 149);">1</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// Correct</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> value </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'hello'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token function" style="color: rgb(135, 175, 244);">expect</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">value </span><span class="token operator" style="color: rgb(0, 191, 249);">is</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">String</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> isTrue</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain">  </span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ LINT: Prefer the 'isA&lt;T&gt;' matcher.</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token function" style="color: rgb(135, 175, 244);">expect</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">value</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token generic-function" style="color: rgb(135, 175, 244);">isA</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">String</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// Correct</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This is highlighted by DCM’s <a href="https://dcm.dev/docs/rules/common/prefer-test-matchers/" target="_blank" rel="noopener noreferrer"><code>prefer-test-matchers</code></a> rule, ensuring more readable tests and better diagnostics when tests fail.</p>
<p>Tests with asynchronous code should use appropriate matchers such as <code>expectLater</code> rather than improperly mixing <code>await</code> with <code>expect</code>.</p>
<p>The DCM's <a href="https://dcm.dev/docs/rules/common/prefer-expect-later/" target="_blank" rel="noopener noreferrer"><code>prefer-expect-later</code></a> rule is another rule that helps for tests. It warns when a <code>Future</code> is passed to expect without it being awaited. Generally, not awaiting a <code>Future</code> passed to expect can lead to unexpected results. You can replacing it with <code>expectLater</code> will show a warning for a not awaited <code>Future</code>.</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token function" style="color: rgb(135, 175, 244);">test</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'async result'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">async</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">await</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">expectLater</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token function" style="color: rgb(135, 175, 244);">getValue</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">completion</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token function" style="color: rgb(135, 175, 244);">equals</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token number" style="color: rgb(141, 236, 149);">42</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Empty test groups indicate unfinished refactoring or mistakenly added placeholders. DCM's <a href="https://dcm.dev/docs/rules/common/avoid-empty-test-groups/" target="_blank" rel="noopener noreferrer"><code>avoid-empty-test-groups</code></a> rule helps identify these:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ LINT: This test group does not contain any test cases.</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token function" style="color: rgb(135, 175, 244);">group</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'empty group'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Instead, ensure each test group is meaningful and contains relevant tests:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token function" style="color: rgb(135, 175, 244);">group</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'user management'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token function" style="color: rgb(135, 175, 244);">test</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'creates user'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">async</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token comment" style="color: rgb(153, 153, 153);">// actual test assertions</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For widget and integration tests, validating concrete user 
interactions or outcomes provides clearer documentation and reliability:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token comment" style="color: rgb(153, 153, 153);">// Less informative</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token function" style="color: rgb(135, 175, 244);">expect</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">find</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token function" style="color: rgb(135, 175, 244);">byType</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">Text</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> findsOneWidget</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token comment" style="color: rgb(153, 153, 153);">// More informative</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token function" style="color: rgb(135, 175, 244);">expect</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">find</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token function" style="color: rgb(135, 175, 244);">text</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'Welcome'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> findsOneWidget</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Integrating tests into a continuous integration (CI) environment ensures early detection of regressions.</p>
<p><img decoding="async" loading="lazy" alt="DCM CD/CI" class="img_ev3q medium-zoom-image" src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/github-example.webp"></p>
<p>Pairing automated tests with static analysis tools like DCM results 
in greater confidence about your app’s correctness and maintainability.</p>
<img alt="Flutter Tests" class="themedComponent_mlkZ themedComponent--dark_xIcU medium-zoom-image" width="2689" height="862" style="margin-bottom: 20px; height: auto;" src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/flutter-tests-dark.webp">
<p>Ultimately, effective testing isn't just about coverage—it's about 
clearly verifying your app’s behavior, documenting expectations 
explicitly, and providing immediate feedback when unexpected changes 
occur.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="package-overload">Package Overload<a href="#package-overload" class="hash-link" aria-label="Direct link to Package Overload" title="Direct link to Package Overload">​</a></h2>
<p>Let’s be honest, how many times have you added a package, refactored the code later, and just left that package sitting in <code>pubspec.yaml</code>, completely unused? It happens. Flutter’s ecosystem is massive, and <code>pub.dev</code>
 makes it incredibly easy to install third-party packages but that same 
convenience often leads to clutter, overuse, or poor maintenance issues.</p>
<p>One of the most common mistakes is pulling in a full-featured package just for a tiny feature. For example, using <code>rxdart</code> just to debounce a text input:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token key atrule" style="color: rgb(109, 189, 250);">dependencies</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token key atrule" style="color: rgb(109, 189, 250);">rxdart</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> ^0.27.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then using it like this:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">debounceStream </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> controller</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token plain">stream</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token function" style="color: rgb(135, 175, 244);">debounceTime</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Duration</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">milliseconds</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">300</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This works, but it adds multiple transitive dependencies, increases 
binary size, and may lead to version conflicts down the road. For many 
simple cases, a plain <code>Timer</code> is more than enough:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">Timer</span><span class="token operator" style="color: rgb(0, 191, 249);">?</span><span class="token plain"> _debounce</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">void</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">onChanged</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">String</span><span class="token plain"> value</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  _debounce</span><span class="token operator" style="color: rgb(0, 191, 249);">?</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">cancel</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  _debounce </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Timer</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Duration</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">milliseconds</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">300</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token comment" style="color: rgb(153, 153, 153);">// handle input</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Another overlooked issue is dead packages, ones that were used 
before, but no longer referenced anywhere after a refactor. The package 
still lives in <code>pubspec.yaml</code>, but nothing in your project touches it anymore. You’d never notice… unless you check.</p>
<p>That’s where DCM’s <a href="https://dcm.dev/docs/cli/code-quality-checks/check-dependencies/" target="_blank" rel="noopener noreferrer"><code>check-dependencies</code></a> command helps. It scans your code and flags:</p>
<ul>
<li>Unused packages that are still listed in <code>pubspec.yaml</code></li>
<li>Over-promoted packages (declared as <code>dependencies:</code> but only used in <code>dev_dependencies:</code> context)</li>
<li>Under-promoted ones</li>
<li>Packages missing from your pubspec that are being used</li>
<li>And even packages you forgot to clean up after code generation</li>
</ul>
<p>To use it, run:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">dcm check-dependencies lib</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="Dependencies Report" class="img_ev3q medium-zoom-image" src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/dependencies-example.webp"></p>
<p>Another issue is over relying on third-party APIs in your business logic. A common example:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> auth </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">FirebaseAuth</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">instance</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">auth</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token function" style="color: rgb(135, 175, 244);">signInWithEmailAndPassword</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">email</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> email</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> password</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> pass</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This works fine, but now your logic is tightly coupled to Firebase. 
Testing becomes harder, mocking is a pain, and swapping providers is 
nearly impossible. Wrapping third-party packages in your own abstraction
 layer makes your codebase far more flexible:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">abstract</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">AuthService</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">Future</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics keyword" style="color: rgb(0, 191, 249);">void</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">signIn</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">String</span><span class="token plain"> email</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">String</span><span class="token plain"> password</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">FirebaseAuthService</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">implements</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">AuthService</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">Future</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics keyword" style="color: rgb(0, 191, 249);">void</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">signIn</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">String</span><span class="token plain"> email</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">String</span><span class="token plain"> password</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">FirebaseAuth</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">instance</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token function" style="color: rgb(135, 175, 244);">signInWithEmailAndPassword</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      email</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> email</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      password</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> password</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>And finally, some packages might encourage global access patterns or 
static usage that feels convenient at first but becomes a maintenance 
headache later. Avoid turning your app into a tightly coupled web of 
package calls scattered everywhere.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ignoring-screen-variability">Ignoring Screen Variability<a href="#ignoring-screen-variability" class="hash-link" aria-label="Direct link to Ignoring Screen Variability" title="Direct link to Ignoring Screen Variability">​</a></h2>
<p>It’s easy to design a Flutter UI that looks great on one device, say,
 a Pixel 6, but breaks when run on a tablet, in landscape mode, or on 
foldables. I often saw these in following patterns, hardcoded 
dimensions, fixed paddings, and rigid layouts that don’t adapt to 
different screen sizes.</p>
<p>A common example:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">Container</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  width</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">300</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  height</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">200</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  child</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Text</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'Static layout'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This might render correctly on a mid-sized phone, but it can cause 
overflow on smaller screens or look oddly undersized on tablets.</p>
<p>Even something as simple as:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">SizedBox</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">height</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">20</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>can become problematic if repeated without context across the UI.</p>
<p>DCM helps catch these inflexible patterns with the <a href="https://dcm.dev/docs/rules/common/no-magic-number/" target="_blank" rel="noopener noreferrer"><code>no-magic-number</code></a> rule. It warns when number literals (like <code>24</code>, <code>300</code>, <code>0.25</code>)
 are used directly in layout code instead of being extracted to named 
constants. While this rule isn’t specific to screen size adaptation, it 
encourages reusable, and often more responsive code.</p>
<p>Instead of:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">Padding</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  padding</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">EdgeInsets</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">symmetric</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">horizontal</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">24</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ Lint</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  child</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Text</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'Hello'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Prefer defining it explicitly:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">double</span><span class="token plain"> pagePadding </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">24</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token class-name" style="color: rgb(127, 219, 202);">Padding</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  padding</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">EdgeInsets</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">symmetric</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">horizontal</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> pagePadding</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  child</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Text</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'Hello'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Or better yet, base it on screen dimensions:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> width </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">MediaQuery</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">of</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">size</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token plain">width</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token class-name" style="color: rgb(127, 219, 202);">Padding</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  padding</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">EdgeInsets</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">symmetric</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">horizontal</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> width </span><span class="token operator" style="color: rgb(0, 191, 249);">*</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">0.05</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  child</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Text</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'Hello'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This makes the padding automatically scale with screen size, improving layout adaptability.</p>
<p>For more advanced responsiveness, <code>LayoutBuilder</code> lets you adapt the UI based on available space:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">LayoutBuilder</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  builder</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> constraints</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">if</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">constraints</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token plain">maxWidth </span><span class="token operator" style="color: rgb(0, 191, 249);">&gt;</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">600</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">WideLayout</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">else</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">NarrowLayout</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Other Flutter widgets that promote adaptability include:</p>
<ul>
<li><code>Expanded</code> and <code>Flexible</code></li>
<li><code>AspectRatio</code></li>
<li><code>FractionallySizedBox</code></li>
<li><code>MediaQuery</code> for screen size and orientation</li>
<li><code>OrientationBuilder</code> for reacting to rotation changes</li>
</ul>
<p>When handling layout changes between portrait and landscape, it's useful to adjust properties like <code>crossAxisCount</code> in a <code>GridView</code> or layout behavior in a <code>PageView</code>:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> isPortrait </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">MediaQuery</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">of</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">orientation </span><span class="token operator" style="color: rgb(0, 191, 249);">==</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Orientation</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">portrait</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token class-name" style="color: rgb(127, 219, 202);">GridView</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">count</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  crossAxisCount</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> isPortrait </span><span class="token operator" style="color: rgb(0, 191, 249);">?</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">2</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">4</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  children</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> items</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token function" style="color: rgb(135, 175, 244);">map</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">buildItem</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">toList</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Flutter’s DevTools and device simulators support screen size 
previews, but they don’t automatically test all variations. It’s a good 
habit to regularly test UIs on tablets, in landscape mode, and with text
 scaling to catch edge cases early.</p>
<div class="wrapper_plzk"><p>DCM is a code quality tool that helps your 
team move faster by reducing the time spent on code reviews, finding 
tricky bugs, identifying complex code, and unifying code style.</p><div class="heroButtons_DVKJ"><a class="button button--primary button--md" href="https://dcm.dev/pricing/">Start for Free</a><a class="button button--secondary button--md demo-button" href="https://dcm.dev/demo/"><svg width="12" height="17" viewBox="0 0 12 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.4742 7.67501C12.054 8.0722 12.054 8.92781 11.4742 9.32499L1.60147 16.0881C0.937832 16.5427 0.0363247 16.0675 0.0363247 15.2631L0.0363253 1.73691C0.0363253 0.932494 0.937834 0.457306 1.60147 0.911917L11.4742 7.67501Z" fill="#000"></path></svg>Watch Demo</a></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="misusing-buildcontext">Misusing <code>BuildContext</code><a href="#misusing-buildcontext" class="hash-link" aria-label="Direct link to misusing-buildcontext" title="Direct link to misusing-buildcontext">​</a></h2>
<p><code>BuildContext</code> is central to how Flutter locates widgets, 
themes, and inherited data. But it’s only valid during the lifetime of 
the widget’s position in the tree. Misusing it especially after an <code>await</code> or during early lifecycle methods can lead to runtime exceptions or unpredictable behavior.</p>
<p>A common case looks like this:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">Future</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics keyword" style="color: rgb(0, 191, 249);">void</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">fetchAndNavigate</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">async</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> result </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">await</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">fetchData</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">Navigator</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">of</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">push</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token class-name" style="color: rgb(127, 219, 202);">MaterialPageRoute</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">builder</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">_</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token operator" style="color: rgb(0, 191, 249);">&gt;</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">DetailsPage</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">data</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> result</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If the widget is disposed while <code>fetchData()</code> is running, the <code>context</code> is no longer valid. This causes:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">Error: Looking up a deactivated widget’s ancestor is unsafe.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Yes, you may have now recognized this, because we have talked about 
this two times in this article again. But let's review it again.</p>
<p>The fix is to check if the widget is still mounted before using the context:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">Future</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics keyword" style="color: rgb(0, 191, 249);">void</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">fetchAndNavigate</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">async</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> result </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">await</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">fetchData</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">if</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token operator" style="color: rgb(0, 191, 249);">!</span><span class="token plain">mounted</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">Navigator</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">of</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">push</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token class-name" style="color: rgb(127, 219, 202);">MaterialPageRoute</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">builder</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">_</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token operator" style="color: rgb(0, 191, 249);">&gt;</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">DetailsPage</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">data</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> result</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This is related to, but distinct from, the mistake of calling <code>setState()</code> after <code>await</code>, which DCM already flags using <a href="https://dcm.dev/docs/rules/flutter/use-setstate-synchronously/" target="_blank" rel="noopener noreferrer"><code>use-setstate-synchronously</code></a>. I have already mentioned about this rule. The same async gap pattern applies here.</p>
<p>Another poor misuse is calling <code>BuildContext</code> dependent APIs inside <code>initState()</code>:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">void</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">initState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">initState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> theme </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Theme</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">of</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ Lint: context not ready</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The widget is not fully mounted during <code>initState()</code>, so context lookups may fail or return unexpected defaults. Flutter’s documentation recommends delaying context usage until <code>didChangeDependencies()</code> or using a post frame callback:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">void</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">initState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">initState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">WidgetsBinding</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">instance</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token function" style="color: rgb(135, 175, 244);">addPostFrameCallback</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">_</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> theme </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Theme</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">of</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// Safe here</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This also applies when trying to show snackbars or dialogs directly in <code>initState()</code>:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">ScaffoldMessenger</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">of</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">showSnackBar</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">SnackBar</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">content</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Text</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'Loaded'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Instead:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">WidgetsBinding</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">instance</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token function" style="color: rgb(135, 175, 244);">addPostFrameCallback</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">_</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">ScaffoldMessenger</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">of</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">showSnackBar</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">SnackBar</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">content</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Text</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'Loaded'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In navigation heavy apps, another mistake is passing a <code>BuildContext</code> to another class or method, and storing it for later use. For example:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">AuthService</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">BuildContext</span><span class="token plain"> context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">AuthService</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token keyword" style="color: rgb(0, 191, 249);">this</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">void</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">logout</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token class-name" style="color: rgb(127, 219, 202);">Navigator</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">of</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">pushReplacementNamed</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'/login'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This tightly couples navigation to context lifetime and can cause 
crashes if the context becomes stale. A better approach is to expose 
callbacks, use a <code>NavigatorKey</code>, or inject higher-level services that abstract navigation logic.</p>
<p>In short, <code>BuildContext</code> is not a global handle it’s tied 
to the widget’s position and lifetime. Using it outside its valid scope 
leads to some of the trickiest bugs in Flutter apps. The earlier context
 boundaries are respected in the app structure, the more stable the 
widget behavior becomes.</p>
<p>Another common mistake related to <code>BuildContext</code> is when you have multiple of them in one widget tree.</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">MyOtherWidget</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">extends</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">StatelessWidget</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">Widget</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">build</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">BuildContext</span><span class="token plain"> context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Builder</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">builder</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">_</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      </span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ LINT: This 'BuildContext' variable is not the closest context variable.</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      </span><span class="token comment" style="color: rgb(153, 153, 153);">// Try using the closest context instead.</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">_buildMyWidget</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Using incorrect <code>BuildContext</code> reference can lead to hard 
to spot bugs and can happen if the variable was renamed from the usual 
context name (e.g. to _ due to being previously unused). Luckily DCM's <a href="https://dcm.dev/docs/rules/flutter/use-closest-build-context/" target="_blank" rel="noopener noreferrer"><code>use-closest-build-context</code></a> rule can also help to prevent such an issue.</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">MyOtherWidget</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">extends</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">StatelessWidget</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">Widget</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">build</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">BuildContext</span><span class="token plain"> context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Builder</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">builder</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// correct, was renamed from '_' to 'context'</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">_buildMyWidget</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Remembering about these small issues are hard and that's where a great code quality tool like DCM can help.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="inefficient-code-structure">Inefficient Code Structure<a href="#inefficient-code-structure" class="hash-link" aria-label="Direct link to Inefficient Code Structure" title="Direct link to Inefficient Code Structure">​</a></h2>
<p>I bet you have felt this in many projects before. As your Flutter 
codebase grows, structure quickly outweighs syntax. It’s easy to start 
with everything in one widget, but as screens evolve and features 
multiply, poorly organized code becomes a long-term liability—harder to 
test, debug, and scale.</p>
<p>A classic sign of this is mixing UI, state, and logic directly inside a <code>StatefulWidget</code>:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">LoginForm</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">extends</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">StatefulWidget</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">LoginForm</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">key</span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">State</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">LoginForm</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">createState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token operator" style="color: rgb(0, 191, 249);">&gt;</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">_LoginFormState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">_LoginFormState</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">extends</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">State</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">LoginForm</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> emailController </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">TextEditingController</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> passwordController </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">TextEditingController</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">Future</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics keyword" style="color: rgb(0, 191, 249);">void</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">submit</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">async</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> response </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">await</span><span class="token plain"> http</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token function" style="color: rgb(135, 175, 244);">post</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      </span><span class="token class-name" style="color: rgb(127, 219, 202);">Uri</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">parse</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'https://api.example.com/login'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      body</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">        </span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'email'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> emailController</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token plain">text</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">        </span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'password'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> passwordController</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token plain">text</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">if</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">response</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token plain">statusCode </span><span class="token operator" style="color: rgb(0, 191, 249);">==</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">200</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      </span><span class="token class-name" style="color: rgb(127, 219, 202);">Navigator</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">of</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">pushReplacementNamed</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'/home'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">Widget</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">build</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">BuildContext</span><span class="token plain"> context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Column</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      children</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">[</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">        </span><span class="token class-name" style="color: rgb(127, 219, 202);">TextField</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">controller</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> emailController</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">        </span><span class="token class-name" style="color: rgb(127, 219, 202);">TextField</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">controller</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> passwordController</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">        </span><span class="token class-name" style="color: rgb(127, 219, 202);">ElevatedButton</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">onPressed</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> submit</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> child</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Text</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'Login'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      </span><span class="token punctuation" style="color: rgb(167, 219, 247);">]</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This works in small apps but as soon as features grow, this tightly 
coupled code becomes a bottleneck. Testing is harder. Refactoring 
becomes dangerous. And reusability goes out the window.</p>
<p>A cleaner approach separates UI, logic, and state:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">LoginCubit</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">extends</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Cubit</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">LoginState</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">AuthService</span><span class="token plain"> auth</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">LoginCubit</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token keyword" style="color: rgb(0, 191, 249);">this</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">auth</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">LoginState</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">initial</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">Future</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics keyword" style="color: rgb(0, 191, 249);">void</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">login</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">String</span><span class="token plain"> email</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">String</span><span class="token plain"> password</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">async</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token function" style="color: rgb(135, 175, 244);">emit</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">state</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token function" style="color: rgb(135, 175, 244);">copyWith</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">isLoading</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token boolean" style="color: rgb(141, 236, 149);">true</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> result </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">await</span><span class="token plain"> auth</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token function" style="color: rgb(135, 175, 244);">signIn</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">email</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> password</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token function" style="color: rgb(135, 175, 244);">emit</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">state</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token function" style="color: rgb(135, 175, 244);">copyWith</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">isLoading</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token boolean" style="color: rgb(141, 236, 149);">false</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> result</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> result</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then in your UI:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">ElevatedButton</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  onPressed</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> cubit </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token generic-function" style="color: rgb(135, 175, 244);">read</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">LoginCubit</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    cubit</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token function" style="color: rgb(135, 175, 244);">login</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">email</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> password</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  child</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Text</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'Login'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This separation isn’t just about preferences, it’s about 
maintainability. Luckily DCM helps you enforce that structure in 
different ways:</p>
<ul>
<li><a href="https://dcm.dev/docs/rules/bloc/avoid-bloc-public-fields/" target="_blank" rel="noopener noreferrer"><code>avoid-bloc-public-fields</code></a>: Ensures internal state is kept private.</li>
<li><a href="https://dcm.dev/docs/rules/bloc/avoid-bloc-public-methods/" target="_blank" rel="noopener noreferrer"><code>avoid-bloc-public-methods</code></a>: Prevents exposing unnecessary public methods from Cubits or Blocs.</li>
<li><a href="https://dcm.dev/docs/metrics/function/cyclomatic-complexity/" target="_blank" rel="noopener noreferrer"><code>cyclomatic-complexity</code></a>: Flags functions that try to do too much—making large build methods easier to spot and refactor.</li>
</ul>
<p>For instance, instead of cramming UI logic into <code>build</code>:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token class-name" style="color: rgb(127, 219, 202);">Widget</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">build</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">BuildContext</span><span class="token plain"> context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Column</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    children</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">[</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      </span><span class="token function" style="color: rgb(135, 175, 244);">_buildHeader</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      </span><span class="token function" style="color: rgb(135, 175, 244);">_buildForm</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      </span><span class="token function" style="color: rgb(135, 175, 244);">_buildActions</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">]</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You can even extract each method into its own widget if state is 
minimal. This not only improves testability but also rebuild 
performance.</p>
<p>Beyond local refactors, DCM’s <code>analyze-structure</code> command gives you a bird’s-eye view of how your project is laid out:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">dcm analyze-structure lib </span><span class="token operator" style="color: rgb(0, 191, 249);">|</span><span class="token plain"> dot </span><span class="token parameter variable" style="color: rgb(167, 219, 247);">-Tpng</span><span class="token plain"> </span><span class="token parameter variable" style="color: rgb(167, 219, 247);">-o</span><span class="token plain"> structure.png</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This generates a visual graph of which files depend on which 
highlighting circular dependencies, deeply nested imports, and 
violations of architectural boundaries.</p>
<img alt="Project Structure Analysis" class="themedComponent_mlkZ themedComponent--dark_xIcU medium-zoom-image" width="2689" height="862" style="margin-bottom: 20px; height: auto;" src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/structure-dark.webp">
<p>You can group files by modules (<code>--modules="/features/[^/]+"</code>) or packages (<code>--per-package</code>), and quickly see if certain features are doing too much or importing things they shouldn't.</p>
<p>In short, there are several take away:</p>
<ul>
<li>Avoid putting networking or business logic directly inside widgets.</li>
<li>Split UI into smaller components when build methods become long.</li>
<li>Organize code by feature (e.g. <code>login/</code>, <code>profile/</code>) not just by type (e.g. <code>widgets/</code>, <code>models/</code>).</li>
<li>Use DCM to spot overly complex methods, dead files, or unclear dependencies.</li>
</ul>
<p>In the early days of an app, structure might not feel important. But a
 few months (and teammates) later, clarity becomes everything. With the 
right tools and habits—supported by DCM, you can scale without chaos.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="improper-use-of-globalkey">Improper Use of <code>GlobalKey</code><a href="#improper-use-of-globalkey" class="hash-link" aria-label="Direct link to improper-use-of-globalkey" title="Direct link to improper-use-of-globalkey">​</a></h2>
<p><code>GlobalKey</code> is one of Flutter’s more powerful features and
 one of its most misused. It allows widgets to access state, trigger 
actions, and preserve identity across rebuilds. But using it 
unnecessarily introduces subtle bugs, degrades performance, and often 
signals a deeper architectural issue.</p>
<p>A typical misuse looks like this:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> globalKey </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">GlobalKey</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">FormState</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token class-name" style="color: rgb(127, 219, 202);">Form</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  key</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> globalKey</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  child</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">globalKey</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token plain">currentState</span><span class="token operator" style="color: rgb(0, 191, 249);">?</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">validate</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This isn’t inherently wrong Flutter’s form validation APIs are designed around <code>GlobalKey</code>. But problems start when keys are:</p>
<ul>
<li><strong>Reused across multiple widgets or screens</strong></li>
<li><strong>Stored long-term and referenced outside the widget tree</strong></li>
<li><strong>Created and passed down unnecessarily when a callback or state manager would suffice</strong></li>
</ul>
<p>The issue isn’t just about memory. <code>GlobalKey</code> disables 
certain Flutter optimizations by requiring widgets to maintain identity 
between rebuilds—even when they don’t need to. This increases layout 
cost and risks subtle UI mismatches.</p>
<p>For example, this is a red flag:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> key </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">GlobalKey</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token class-name" style="color: rgb(127, 219, 202);">Widget</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">build</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">BuildContext</span><span class="token plain"> context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Column</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    children</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">[</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      </span><span class="token class-name" style="color: rgb(127, 219, 202);">SomeWidget</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">key</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> key</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      </span><span class="token class-name" style="color: rgb(127, 219, 202);">AnotherWidget</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">key</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> key</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ same key reused</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">]</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Or:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">MyService</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">GlobalKey</span><span class="token plain"> key</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">MyService</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token keyword" style="color: rgb(0, 191, 249);">this</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">key</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">void</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">doSomething</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    key</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token plain">currentState</span><span class="token operator" style="color: rgb(0, 191, 249);">?</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">doSomething</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ context misalignment risk</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In both cases, the <code>GlobalKey</code> is being treated as a global access point—which breaks encapsulation and leads to fragile code.</p>
<p>A better approach is to <strong>use callbacks, controllers, or state managers</strong> that are scoped to the widget:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">CustomWidget</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">extends</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">StatefulWidget</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">VoidCallback</span><span class="token plain"> onComplete</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">CustomWidget</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">key</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">required</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">this</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">onComplete</span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">State</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">CustomWidget</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">createState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token operator" style="color: rgb(0, 191, 249);">&gt;</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">_CustomWidgetState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">_CustomWidgetState</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">extends</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">State</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">CustomWidget</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">void</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">_handleDone</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    widget</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token function" style="color: rgb(135, 175, 244);">onComplete</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Or, in more advanced cases, using patterns like <code>Provider</code>, <code>Riverpod</code>, or <code>Bloc</code> to expose the necessary state or control layer without relying on widget keys.</p>
<p>If you find yourself reaching for <code>GlobalKey</code> to “get 
access to something from somewhere else,” it’s worth asking whether the 
widget hierarchy or app architecture needs a deeper refactor.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="abusing-futurebuilder--streambuilder">Abusing <code>FutureBuilder</code> &amp; <code>StreamBuilder</code><a href="#abusing-futurebuilder--streambuilder" class="hash-link" aria-label="Direct link to abusing-futurebuilder--streambuilder" title="Direct link to abusing-futurebuilder--streambuilder">​</a></h2>
<p><code>FutureBuilder</code> and <code>StreamBuilder</code> are 
incredibly convenient—offering a declarative way to handle async data in
 the widget tree. But they’re often misused, especially when the future 
or stream is re-created during every rebuild.</p>
<p>Here’s a common anti-pattern:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token class-name" style="color: rgb(127, 219, 202);">Widget</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">build</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">BuildContext</span><span class="token plain"> context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">FutureBuilder</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">User</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    future</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">fetchUser</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ new future on every build</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    builder</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> snapshot</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      </span><span class="token keyword" style="color: rgb(0, 191, 249);">if</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">snapshot</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token plain">connectionState </span><span class="token operator" style="color: rgb(0, 191, 249);">==</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">ConnectionState</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">waiting</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">        </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">const</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">CircularProgressIndicator</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Text</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">snapshot</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token plain">data</span><span class="token operator" style="color: rgb(0, 191, 249);">?</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">name </span><span class="token operator" style="color: rgb(0, 191, 249);">?</span><span class="token operator" style="color: rgb(0, 191, 249);">?</span><span class="token plain"> </span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'No user'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This may appear to work but every call to <code>build()</code> creates a new <code>Future</code>, causing the widget to restart the loading process. That can result in:</p>
<ul>
<li>Repeated network calls</li>
<li>Flickering loading indicators</li>
<li>Cancelled async operations</li>
<li>Higher battery and bandwidth usage</li>
</ul>
<p>The fix is simple: store the <code>Future</code> or <code>Stream</code> ahead of time, such as in <code>initState()</code>:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">late</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Future</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">User</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> _userFuture</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">void</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">initState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">initState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  _userFuture </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">fetchUser</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token class-name" style="color: rgb(127, 219, 202);">Widget</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">build</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token class-name" style="color: rgb(127, 219, 202);">BuildContext</span><span class="token plain"> context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">FutureBuilder</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">User</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    future</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> _userFuture</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    builder</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> snapshot</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      </span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The same applies to <code>StreamBuilder</code>:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">StreamBuilder</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">Message</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  stream</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">FirebaseFirestore</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">instance</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token function" style="color: rgb(135, 175, 244);">collection</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'messages'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">snapshots</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  builder</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If placed in <code>build()</code>, this creates a new stream subscription every frame leading to memory leaks, dropped messages, or duplicate listeners.</p>
<p>Instead:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token keyword" style="color: rgb(0, 191, 249);">late</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Stream</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&lt;</span><span class="token generics class-name" style="color: rgb(127, 219, 202);">Message</span><span class="token generics punctuation" style="color: rgb(167, 219, 247);">&gt;</span><span class="token plain"> _messageStream</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">void</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">initState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">initState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  _messageStream </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">FirebaseFirestore</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">instance</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token function" style="color: rgb(135, 175, 244);">collection</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token string-literal string" style="color: rgb(225, 255, 228);">'messages'</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">snapshots</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>These mistakes are often hard to spot during code reviews especially 
in large widgets with many conditional builds. DCM helps here by 
flagging async calls inside sync methods (like <code>build()</code> or <code>didChangeDependencies()</code>) using the <a href="https://dcm.dev/docs/rules/common/avoid-async-call-in-sync-function/" target="_blank" rel="noopener noreferrer"><code>avoid-async-call-in-sync-function</code></a> rule. It ensures that operations like <code>fetchData()</code> or <code>someStream.listen()</code> don’t sneak into parts of the UI lifecycle where they cause unintended side effects.</p>
<p>Additionally, if your async call is wrapped inside a method that returns a widget:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">Widget</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">_buildUserWidget</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">FutureBuilder</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">future</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">fetchUser</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">,</span><span class="token plain"> builder</span><span class="token punctuation" style="color: rgb(167, 219, 247);">:</span><span class="token plain"> </span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>DCM’s <a href="https://dcm.dev/docs/rules/flutter/avoid-returning-widgets/" target="_blank" rel="noopener noreferrer"><code>avoid-returning-widgets</code></a>
 rule can highlight this as a signal to refactor. It doesn’t just 
suggest style improvements it helps surface places where async logic is 
tightly coupled to layout, which is often a precursor to this issue.</p>
<p>In both cases, the goal is the same: isolate async logic and avoid 
rebuilding it unnecessarily. Flutter won’t warn you when you’re making 
the same network call 60 times per minute. But DCM will.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="improper-use-of-widget-lifecycle-methods">Improper Use of Widget Lifecycle Methods<a href="#improper-use-of-widget-lifecycle-methods" class="hash-link" aria-label="Direct link to Improper Use of Widget Lifecycle Methods" title="Direct link to Improper Use of Widget Lifecycle Methods">​</a></h2>
<p>Flutter’s widget lifecycle is full of subtle traps that can lead to 
performance issues, unexpected rebuilds, or runtime errors—especially 
when <code>BuildContext</code>, <code>setState()</code>, or asynchronous operations are involved. These issues often go unnoticed in small apps but compound in larger projects.</p>
<img alt="Widget Lifecycle Sequence" class="themedComponent_mlkZ themedComponent--dark_xIcU medium-zoom-image" width="2689" height="862" style="margin-bottom: 20px; height: auto;" src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/lifecycle-sequence-dark.webp">
<p>Take <code>initState()</code>. It's the perfect place to initialize 
controllers or set up non-UI logic, but a common mistake is accessing 
context-dependent APIs like <code>Theme.of</code>, <code>ModalRoute.of</code>, or <code>Provider.of</code> too early:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">void</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">initState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">initState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> theme </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Theme</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">of</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ Not safe: context not yet attached</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This "works" sometimes—but not reliably. A better approach is to defer access using a post-frame callback:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">void</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">initState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">initState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token class-name" style="color: rgb(127, 219, 202);">WidgetsBinding</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token plain">instance</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token function" style="color: rgb(135, 175, 244);">addPostFrameCallback</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">_</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">final</span><span class="token plain"> theme </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">Theme</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">of</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">context</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ✅ Safe here</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Misusing <code>initState()</code> for async calls is another quiet bug source. Calling <code>await</code> directly can cause <code>setState()</code> to run after the widget is disposed if the user navigates away. DCM flags this exact problem with <a href="https://dcm.dev/docs/rules/flutter/use-setstate-synchronously/" target="_blank" rel="noopener noreferrer"><code>use-setstate-synchronously</code></a>, encouraging proper checks:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">void</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">initState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">initState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token function" style="color: rgb(135, 175, 244);">fetchData</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">then</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">data</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(0, 191, 249);">if</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token operator" style="color: rgb(0, 191, 249);">!</span><span class="token plain">mounted</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(0, 191, 249);">return</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ✅ Prevents exception</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token function" style="color: rgb(135, 175, 244);">setState</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">      _data </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> data</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In fact, calling async methods from sync-only lifecycle hooks (like <code>build</code>, <code>initState</code>, or <code>didChangeDependencies</code>) can lead to hard-to-catch bugs. DCM’s <a href="https://dcm.dev/docs/rules/common/avoid-async-call-in-sync-function/" target="_blank" rel="noopener noreferrer"><code>avoid-async-call-in-sync-function</code></a> catches these cases early, enforcing separation of async logic from sync hooks.</p>
<p>Another frequent misuse involves <code>didChangeDependencies()</code>.
 This method is safe for accessing inherited widgets—but developers 
often run expensive logic here without realizing it gets called on every
 dependency change:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">void</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">didChangeDependencies</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">didChangeDependencies</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token function" style="color: rgb(135, 175, 244);">_loadData</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ❌ Runs multiple times, e.g. on theme/locale change</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Instead, guard it:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token class-name" style="color: rgb(127, 219, 202);">bool</span><span class="token plain"> _isInitialized </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token boolean" style="color: rgb(141, 236, 149);">false</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">void</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">didChangeDependencies</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">didChangeDependencies</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">if</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token operator" style="color: rgb(0, 191, 249);">!</span><span class="token plain">_isInitialized</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token function" style="color: rgb(135, 175, 244);">_loadData</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    _isInitialized </span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token plain"> </span><span class="token boolean" style="color: rgb(141, 236, 149);">true</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Calling <code>setState()</code> inside <code>didChangeDependencies()</code> or <code>initState()</code>—especially when unnecessary—is another performance smell. DCM’s <a href="https://dcm.dev/docs/rules/flutter/avoid-unnecessary-setstate/" target="_blank" rel="noopener noreferrer"><code>avoid-unnecessary-setstate</code></a> rule spots these patterns where <code>setState()</code> is used even though no meaningful state change happens or the update could be done directly.</p>
<p>And don’t overlook <code>didUpdateWidget()</code>. Many developers ignore this method altogether and instead rely on <code>setState()</code> hacks to re-trigger logic when widget parameters change:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token metadata function" style="color: rgb(135, 175, 244);">@override</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token keyword" style="color: rgb(0, 191, 249);">void</span><span class="token plain"> </span><span class="token function" style="color: rgb(135, 175, 244);">didUpdateWidget</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token keyword" style="color: rgb(0, 191, 249);">covariant</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(127, 219, 202);">MyWidget</span><span class="token plain"> oldWidget</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">super</span><span class="token number" style="color: rgb(141, 236, 149);">.</span><span class="token function" style="color: rgb(135, 175, 244);">didUpdateWidget</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">oldWidget</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token keyword" style="color: rgb(0, 191, 249);">if</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token plain">oldWidget</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token plain">userId </span><span class="token operator" style="color: rgb(0, 191, 249);">!=</span><span class="token plain"> widget</span><span class="token punctuation" style="color: rgb(167, 219, 247);">.</span><span class="token plain">userId</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(167, 219, 247);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">    </span><span class="token function" style="color: rgb(135, 175, 244);">_reloadUserData</span><span class="token punctuation" style="color: rgb(167, 219, 247);">(</span><span class="token punctuation" style="color: rgb(167, 219, 247);">)</span><span class="token punctuation" style="color: rgb(167, 219, 247);">;</span><span class="token plain"> </span><span class="token comment" style="color: rgb(153, 153, 153);">// ✅ Responds properly to updated input</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(167, 219, 247);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Not using <code>didUpdateWidget()</code> leads to messy rebuilds and stale state. With DCM keeping an eye on common misuses, like calling <code>setState()</code> after async gaps or inside build logic, you can catch these before they cause real issues.</p>
<p>Flutter’s lifecycle isn’t overly complex—but precision matters. Tools
 like DCM help guide that precision, surfacing risky patterns in 
real-time and nudging you toward predictable, maintainable, and 
efficient widget behavior.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="unmaintained-code-and-files">Unmaintained Code and Files<a href="#unmaintained-code-and-files" class="hash-link" aria-label="Direct link to Unmaintained Code and Files" title="Direct link to Unmaintained Code and Files">​</a></h2>
<p>You know that file you wrote six months ago for a feature that got 
scrapped? Or that helper function you replaced but kept “just in case”? 
Yeah—it’s still there. Unused, untested, and quietly adding weight to 
your codebase.</p>
<p>Unmaintained code is one of the most expensive forms of tech debt. 
It’s invisible during development but slows down onboarding, increases 
build times, and clutters pull requests. Over time, it becomes harder to
 tell what’s critical and what’s just… old.</p>
<img alt="Code Quality Checks" class="themedComponent_mlkZ themedComponent--dark_xIcU medium-zoom-image" width="2689" height="862" style="margin-bottom: 20px; height: auto;" src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/quality-checks-dark.webp">
<p>DCM helps clean this up before it becomes a problem.</p>
<p>Files that are no longer imported. Classes that are never 
instantiated. Functions that were once useful but no longer called. You 
don’t need to guess. DCM’s <a href="https://dcm.dev/docs/cli/code-quality-checks/unused-code/" target="_blank" rel="noopener noreferrer"><code>check-unused-code</code></a> command surfaces all of it:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">$ dcm check-unused-code lib</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>It detects unused:</p>
<ul>
<li>Classes, fields, properties, methods, functions</li>
<li>Enums, extensions, mixins, type aliases</li>
</ul>
<p>You can even include overridden members by passing <code>--no-exclude-overridden</code>.</p>
<p>That is not all, you can also have <a href="https://dcm.dev/docs/rules/?tags=unused-code" target="_blank" rel="noopener noreferrer">a set of rules</a> that help detect small pars of unused code (e.g. <code>avoid-unused-generics</code>, <code>avoid-unnecessary-patterns</code>, <code>avoid-duplicate-patterns</code>. <code>avoid-unused-assignment</code>, <code>no-equal-conditions</code>, etc.).</p>
<p>Even bigger than unused code: entire Dart files sitting around 
unused. These often come from prototypes, renamed features, or 
long-forgotten experiments.</p>
<p>DCM’s <a href="https://dcm.dev/docs/cli/code-quality-checks/unused-files/" target="_blank" rel="noopener noreferrer"><code>check-unused-files</code></a> scans for <code>.dart</code> files that aren’t referenced anywhere:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">$ dcm check-unused-files lib</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>And if you want to skip public exports (like APIs or barrels), just add <code>--exclude-public-api</code>.</p>
<p><img decoding="async" loading="lazy" alt="Unused Files Report" class="img_ev3q medium-zoom-image" src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/unused-files-example.webp"></p>
<p><img decoding="async" loading="lazy" alt="Unused Files" class="img_ev3q medium-zoom-image" src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/unused-files-ide-example.webp"></p>
<p>In apps with multiple languages, localization files (<code>.arb</code>, <code>AppLocalizations</code>, etc.) tend to collect old keys that are never removed. DCM detects these with <a href="https://dcm.dev/docs/cli/code-quality-checks/unused-l10n/" target="_blank" rel="noopener noreferrer"><code>check-unused-l10n</code></a>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">$ dcm check-unused-l10n lib --class-pattern</span><span class="token operator" style="color: rgb(0, 191, 249);">=</span><span class="token string" style="color: rgb(225, 255, 228);">"^AppLocalizations$"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>It’ll highlight string getters that aren’t used anywhere in your app.</p>
<p><img decoding="async" loading="lazy" alt="Check Unused l10n" class="img_ev3q medium-zoom-image" src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/unused-localization-example.webp"></p>
<p>Copy-paste once, it’s a shortcut. Copy-paste five times? It’s a maintenance trap.</p>
<p>DCM’s <a href="https://dcm.dev/docs/cli/code-quality-checks/code-duplication/" target="_blank" rel="noopener noreferrer"><code>check-code-duplication</code></a> finds structurally similar functions even if variable names differ:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #d6deeb; --prism-background-color: #011627;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color: rgb(214, 222, 235); background-color: rgb(1, 22, 39);"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(214, 222, 235);"><span class="token plain">$ dcm check-code-duplication lib</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>It works for:</p>
<ul>
<li>Regular functions and methods</li>
<li>Constructors</li>
<li>Test cases</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Code Duplicate Report" class="img_ev3q medium-zoom-image" src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/duplication-example.webp"></p>
<p>You can exclude <code>@override</code> methods, limit the scan to your package only, or adjust the minimum number of statements with <code>--statements-threshold</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>From memory leaks and lifecycle missteps to overusing <code>setState</code> or mismanaging async logic, these mistakes can quietly erode your app’s performance, stability, and maintainability.</p>
<p>The good news? Most of them are preventable.</p>
<p>Whether through better architectural decisions, smarter state 
management, or simply respecting the widget lifecycle, these pitfalls 
can be caught early and avoided altogether.</p>
<p>But more importantly, tools like <a href="https://dcm.dev/" target="_blank" rel="noopener noreferrer">DCM.dev</a>
 make that even easier by surfacing structural issues, enforcing best 
practices, and helping you write more predictable and maintainable 
Flutter and Dart code.</p>
<p>Remember to subscribe to our newsletter, YouTube, or social media to get the latest updates.</p>
<div class="formWrapper_FeQU"><p class="formTitle_o9oT">Enjoying this article?</p><p>Subscribe to get our latest articles and product updates by email.</p><form class="footerForm_u4Zn"><input class="trialInput_rT6u" placeholder="Email address" type="email" name="blogEmail"><button type="submit" class="button button--primary button--sm formButton_cuTv">Subscribe</button></form></div></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="https://dcm.dev/blog/tags/blog/">blog</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="https://dcm.dev/blog/2025/04/15/whats-new-in-dcm-1-28-0/"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">What’s new in DCM 1.28.0</div></a><a class="pagination-nav__link pagination-nav__link--next" href="https://dcm.dev/blog/2025/02/27/ten-lesser-known-dart-flutter-functionalities/"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">10 Lesser-Known Dart and Flutter Functionalities You Should Start Using</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#memory-leaks-from-missed-disposal" class="table-of-contents__link toc-highlight table-of-contents__link--active">Memory Leaks from Missed Disposal</a></li><li><a href="#unnecessary-rebuilds-via-setstate" class="table-of-contents__link toc-highlight">Unnecessary Rebuilds via <code>setState</code></a></li><li><a href="#deep-widget-trees--excessive-rebuilds" class="table-of-contents__link toc-highlight">Deep Widget Trees &amp; Excessive Rebuilds</a></li><li><a href="#poor-async-handling" class="table-of-contents__link toc-highlight">Poor Async Handling</a></li><li><a href="#poor-images-optimization" class="table-of-contents__link toc-highlight">Poor Images Optimization</a></li><li><a href="#poor-error-handling" class="table-of-contents__link toc-highlight">Poor Error Handling</a></li><li><a href="#ineffective-testing" class="table-of-contents__link toc-highlight">Ineffective Testing</a></li><li><a href="#package-overload" class="table-of-contents__link toc-highlight">Package Overload</a></li><li><a href="#ignoring-screen-variability" class="table-of-contents__link toc-highlight">Ignoring Screen Variability</a></li><li><a href="#misusing-buildcontext" class="table-of-contents__link toc-highlight">Misusing <code>BuildContext</code></a></li><li><a href="#inefficient-code-structure" class="table-of-contents__link toc-highlight">Inefficient Code Structure</a></li><li><a href="#improper-use-of-globalkey" class="table-of-contents__link toc-highlight">Improper Use of <code>GlobalKey</code></a></li><li><a href="#abusing-futurebuilder--streambuilder" class="table-of-contents__link toc-highlight">Abusing <code>FutureBuilder</code> &amp; <code>StreamBuilder</code></a></li><li><a href="#improper-use-of-widget-lifecycle-methods" class="table-of-contents__link toc-highlight">Improper Use of Widget Lifecycle Methods</a></li><li><a href="#unmaintained-code-and-files" class="table-of-contents__link toc-highlight">Unmaintained Code and Files</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></div><footer class="footer footer--dark footerCustom_j_zv"><div class="container container-fluid"><div class="wrapper_b4rI"><div class="formWrapper_DcXD"><div class="footerLogo_F2J2"><img alt="DCM Logo" src="15%20Common%20Mistakes%20in%20Flutter%20and%20Dart%20Development%20(and%20How%20to%20Avoid%20Them)%20_%20DCM%20-%20Code%20Quality%20Tool%20for%20Flutter%20Developers_files/logo.svg" class="medium-zoom-image"><b>DCM</b></div><div><p class="formCaption_qVmB">Subscribe to get our latest updates by email.</p><form class="footerForm_y06f"><input class="trialInput_KD97" placeholder="Email address" type="email" name="blogEmail"><button type="submit" class="button button--primary button--sm formButton_fFN8">Subscribe</button></form></div></div><hr class="delimiter_TVxX"><div class="linksWrapper_Cft9"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Features</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="https://dcm.dev/features/analyze/#rules">Lint Rules</a></li><li class="footer__item"><a class="footer__link-item" href="https://dcm.dev/features/fix/#ide-fixes">Quick Fixes</a></li><li class="footer__item"><a class="footer__link-item" href="https://dcm.dev/features/analyze/#metrics">Code Metrics</a></li><li class="footer__item"><a class="footer__link-item" href="https://dcm.dev/features/integrate/">Integrations</a></li><li class="footer__item"><a class="footer__link-item" href="https://dcm.dev/features/analyze/#widget-analysis">Widgets Analysis</a></li><li class="footer__item"><a class="footer__link-item" href="https://dcm.dev/features/analyze/#assets-analysis">Assets Analysis</a></li><li class="footer__item"><a class="footer__link-item" href="https://dcm.dev/features/analyze/#structure-analysis">Structure Analysis</a></li><li class="footer__item"><a class="footer__link-item" href="https://dcm.dev/features/maintain/#unused-code">Unused Code Detection</a></li><li class="footer__item"><a class="footer__link-item" href="https://dcm.dev/features/maintain/#duplicate-code">Duplicate Code Detection</a></li><li class="footer__item"><a class="footer__link-item" href="https://dcm.dev/features/maintain/#unused-localization">Unused Localization Detection</a></li><li class="footer__item"><a class="footer__link-item" href="https://dcm.dev/features/maintain/#misused-dependencies">Misused Dependencies Detection</a></li></ul></div><div class="col footer__col"><div class="footer__title">Product</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="https://dcm.dev/docs/introduction/why-dcm/">Why DCM?</a></li><li class="footer__item"><a class="footer__link-item" href="https://dcm.dev/blog/2023/04/23/dcm-return-on-investment/">DCM ROI</a></li><li class="footer__item"><a class="footer__link-item" href="https://dcm.dev/pricing/">Pricing</a></li><li class="footer__item"><a class="footer__link-item" href="https://dcm.dev/demo/">Watch Demo</a></li><li class="footer__item"><a class="footer__link-item" href="https://dcm.dev/request-license/">Start Teams Trial</a></li><li class="footer__item"><a class="footer__link-item" href="https://dcm.dev/changelog/">Changelog</a></li><li class="footer__item"><a href="https://dcm.featurebase.app/roadmap" target="_blank" rel="noopener noreferrer" class="footer__link-item">Roadmap<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://dcm.dev/console" target="_blank" rel="noopener noreferrer" class="footer__link-item">DCM Teams Console<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://dcm.lemonsqueezy.com/billing" target="_blank" rel="noopener noreferrer" class="footer__link-item">Manage Subscription<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="https://dcm.dev/docs/getting-started/installation/macos/">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="https://dcm.dev/docs/rules/">Rules</a></li><li class="footer__item"><a class="footer__link-item" href="https://dcm.dev/docs/metrics/">Metrics</a></li><li class="footer__item"><a class="footer__link-item" href="https://dcm.dev/docs/configuration/">Configuration</a></li><li class="footer__item"><a class="footer__link-item" href="https://dcm.dev/docs/cli/">Commands</a></li><li class="footer__item"><a class="footer__link-item" href="https://dcm.dev/docs/ci-integrations/">CI/CD Integrations</a></li><li class="footer__item"><a class="footer__link-item" href="https://dcm.dev/docs/guides/choosing-first-dcm-rules/">Guides</a></li></ul><div class="footer__title" style="margin-top: 30px;">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="https://dcm.dev/blog/">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="https://dcm.dev/contact/">Contact Us</a></li></ul></div></div></div></div><section><div class="socialIcons_c6qG"><a class="socialIcon_la_w githubIcon_tsFC" href="https://github.com/CQLabs" target="_blank" aria-label="GitHub"></a><a class="socialIcon_la_w linkedinIcon_n3bI" href="https://www.linkedin.com/company/dcm-analyzer/" target="_blank" aria-label="LinkedIn"></a><a class="socialIcon_la_w youtubeIcon_vppR" href="https://www.youtube.com/@DCMAnalyzer" target="_blank" aria-label="YouTube"></a><a class="socialIcon_la_w twitterIcon_dCr7" href="https://x.com/DCMAnalyzer" target="_blank" aria-label="Twitter"></a><a class="socialIcon_la_w discordIcon_jyOr" href="https://discord.gg/Vzjprgk4sb" target="_blank" aria-label="Discord"></a></div><div class="textWrapper_FuZI"><span class="copyright_V8OD">© 2025 Dmitry Zhifarsky</span><a class="additionalLink_Kw28" href="https://dcm.dev/privacy-policy/">Privacy Policy</a><a class="additionalLink_Kw28" href="https://dcm.dev/terms/">Terms</a></div></section></div></footer></div><iframe height="0" width="0" style="display: none; visibility: hidden;"></iframe>

</body></html>